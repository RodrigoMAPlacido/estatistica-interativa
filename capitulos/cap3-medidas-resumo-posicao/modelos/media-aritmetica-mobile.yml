schema: EconSchema
aspectRatio: 2.5

params:
  - name: x_1
    value: 1
    min: 0
    max: 5
    round: 0.1

  - name: x_2
    value: 4
    min: 0
    max: 5
    round: 0.1

  - name: x_3
    value: 2
    min: 0
    max: 5
    round: 0.1

  - name: x_4
    value: 3
    min: 0
    max: 5
    round: 0.1

  - name: x_5
    value: 5
    min: 0
    max: 5
    round: 0.1

  - name: x_6
    value: 3
    min: 0
    max: 5
    round: 0.1

calcs:
  mean: "(params.x_1 + params.x_2 + params.x_3 + params.x_4 + params.x_5 + params.x_6) / 6"

colors:
  ink: "'#111827'"
  grid: "'#e5e7eb'"

layout:
  OneGraph:
    graph:
      xAxis:
        min: 0
        max: 7
        ticks: 0
        title: Valores individuais em alturas diferentes (dispersos)
      yAxis:
        min: 0
        max: 5.5
        ticks: 6
      objects:
        # ---------------------------
        # BARRAS DRAGGABLE
        # (cada uma arrasta só no eixo y,
        #  atualizando o respectivo param)
        # ---------------------------
        - Rectangle:
            x1: 0.7
            x2: 1.3
            y1: 0
            y2: params.x_1
            fill: colors.ink
            opacity: 1
            drag:
              - directions: y
                param: x_1
                expression: "(drag.y)"

        - Rectangle:
            x1: 1.7
            x2: 2.3
            y1: 0
            y2: params.x_2
            fill: colors.ink
            opacity: 1
            drag:
              - directions: y
                param: x_2
                expression: "(drag.y)"

        - Rectangle:
            x1: 2.7
            x2: 3.3
            y1: 0
            y2: params.x_3
            fill: colors.ink
            opacity: 1
            drag:
              - directions: y
                param: x_3
                expression: "(drag.y)"

        - Rectangle:
            x1: 3.7
            x2: 4.3
            y1: 0
            y2: params.x_4
            fill: colors.ink
            opacity: 1
            drag:
              - directions: y
                param: x_4
                expression: "(drag.y)"

        - Rectangle:
            x1: 4.7
            x2: 5.3
            y1: 0
            y2: params.x_5
            fill: colors.ink
            opacity: 1
            drag:
              - directions: y
                param: x_5
                expression: "(drag.y)"

        - Rectangle:
            x1: 5.7
            x2: 6.3
            y1: 0
            y2: params.x_6
            fill: colors.ink
            opacity: 1
            drag:
              - directions: y
                param: x_6
                expression: "(drag.y)"

        # ---------------------------
        # LINHA DA MÉDIA
        # ---------------------------
        - Segment:
            a: [0, calcs.mean]
            b: [7, calcs.mean]
            strokeWidth: 3
            color: "'#64748b'"

        - Label:
            coordinates: [6.2,calcs.mean+0.5]
            text: "`\\\\mathbf{Média}\\\\  \\\\\\\\ = ${calcs.mean.toFixed(2)}`"
            bgcolor: "'#ffffff'"
            color: "'#111827'"
            fontSize: 8
            position: l




        # ---------------------------
        # RÓTULOS DAS FREQUÊNCIAS (f_i)
        # mostrados no topo de cada barra
        # ---------------------------
        - Segment:
            a: [1, params.x_1]
            b: [1, params.x_1]
            color: colors.ink
            label:
              text: "`\\\\bf{x_{1}}:${params.x_1.toFixed(1)}`"
              position: t
              fontSize: 8

        - Segment:
            a: [2, params.x_2]
            b: [2, params.x_2]
            color: colors.ink
            label:
              text: "`\\\\bf{x_{2}}:${params.x_2.toFixed(1)}`"
              position: t
              fontSize: 8

        - Segment:
            a: [3, params.x_3]
            b: [3, params.x_3]
            color: colors.ink
            label:
              text: "`\\\\bf{x_{3}}:${params.x_3.toFixed(1)}`"
              position: t
              fontSize: 8

        - Segment:
            a: [4, params.x_4]
            b: [4, params.x_4]
            color: colors.ink
            label:
              text: "`\\\\bf{x_{4}}:${params.x_4.toFixed(1)}`"
              position: t
              fontSize: 8

        - Segment:
            a: [5, params.x_5]
            b: [5, params.x_5]
            color: colors.ink
            label:
              text: "`\\\\bf{x_{5}}:${params.x_4.toFixed(1)}`"
              position: t
              fontSize: 8
        - Segment:
            a: [6, params.x_6]
            b: [6, params.x_6]
            color: colors.ink
            label:
              text: "`\\\\bf{x_{6}}:${params.x_4.toFixed(1)}`"
              position: t
              fontSize: 8
        # ---------------------------
        # RÓTULOS NO EIXO X
        # (valores 1, 4, 2, 3, 5, 3)
        # ---------------------------
        - Segment:
            a: [1, 0]
            b: [1, 0]
            color: colors.ink
            label:
              text: "'1'"
              position: t
              fontSize: 9

        - Segment:
            a: [2, 0]
            b: [2, 0]
            color: colors.ink
            label:
              text: "'4'"
              position: t
              fontSize: 9

        - Segment:
            a: [3, 0]
            b: [3, 0]
            color: colors.ink
            label:
              text: "'2'"
              position: t
              fontSize: 9

        - Segment:
            a: [4, 0]
            b: [4, 0]
            color: colors.ink
            label:
              text: "'3'"
              position: t
              fontSize: 9

        - Segment:
            a: [5, 0]
            b: [5, 0]
            color: colors.ink
            label:
              text: "'5'"
              position: t
              fontSize: 9

        - Segment:
            a: [6, 0]
            b: [6, 0]
            color: colors.ink
            label:
              text: "'3'"
              position: t
              fontSize: 9

        #Grade
        - Segment:
            a: [0, 1]
            b: [6.5, 1]
            color: grey
            strokeWidth: 1
            lineStyle: dashed
        - Segment:
            a: [0, 2]
            b: [6.5, 2]
            color: grey
            strokeWidth: 1
            lineStyle: dashed
        - Segment:
            a: [0, 3]
            b: [6.5, 3]
            color: grey
            strokeWidth: 1
            lineStyle: dashed
        - Segment:
            a: [0, 4]
            b: [6.5, 4]
            color: grey
            strokeWidth: 1
            lineStyle: dashed
        - Segment:
            a: [0, 5]
            b: [6.5, 5]
            color: grey
            strokeWidth: 1
            lineStyle: dashed
        - Segment:
            a: [0, 6]
            b: [6.5, 6]
            color: grey
            strokeWidth: 1
            lineStyle: dashed