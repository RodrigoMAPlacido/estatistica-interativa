<!-- Head Global -->
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!-- Evita FOUC -->
<style>
  body.loading { visibility: hidden; }
</style>

<!-- Responsividade -->
<meta name="viewport" content="width=device-width, initial-scale=0.8" />

<!-- Título dinâmico -->
<script>
  document.title = window.pageTitle
    ? window.pageTitle + " | Estatística Interativa"
    : "Estatística Interativa";
</script>

<!-- SEO -->
<meta name="author" content="Rodrigo Plácido" />
<meta
  name="description"
  content="Livro interativo para aprender estatística do zero com visualização intuitiva e gráficos dinâmicos."
/>

<!-- Open Graph (padrão; opcionalmente sobrescrever por página se quiser) -->
<meta property="og:title" content="Estatística Interativa" />
<meta
  property="og:description"
  content="Livro interativo com visualização intuitiva e gráficos dinâmicos."
/>
<meta
  property="og:image"
  content="https://rodrigomaplacido.github.io/estatistica-interativa/imagens/capa-og.png"
/>
<meta
  property="og:url"
  content="https://rodrigomaplacido.github.io/estatistica-interativa/"
/>
<meta property="og:type" content="website" />
<meta property="og:locale" content="pt_BR" />

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Estatística Interativa" />
<meta
  name="twitter:description"
  content="Livro interativo para aprender estatística do zero com gráficos dinâmicos."
/>
<meta
  name="twitter:image"
  content="https://rodrigomaplacido.github.io/estatistica-interativa/imagens/capa-og.png"
/>

<!-- Caminho base automático (root vs capítulos) -->
<script>
  (function () {
    var isChapter = /\/capitulos\//.test(location.pathname);
    var base = isChapter ? "../../" : "./";

    // favicon
    var fav = document.createElement("link");
    fav.rel = "icon";
    fav.type = "image/png";
    fav.href = base + "imagens/favicon.png";
    document.head.appendChild(fav);

    // apple touch icon (opcional)
    var apple = document.createElement("link");
    apple.rel = "apple-touch-icon";
    apple.href = base + "imagens/favicon.png";
    document.head.appendChild(apple);

    // CSS global
    ["css/sumario.css", "css/animations.css", "kgjs/kg-tufte.0.4.0_ODE.css"].forEach(
      function (path) {
        var link = document.createElement("link");
        link.rel = "stylesheet";
        link.href = base + path;
        document.head.appendChild(link);
      }
    );

    // KGJS (traz KaTeX embutido)
    var kg = document.createElement("script");
    kg.src = base + "kgjs/kg.0.4.0_ODE.js";
    kg.defer = true;
    kg.onload = function () {
      console.log("✅ KGJS carregado");
    };
    kg.onerror = function () {
      console.warn("⚠️ Falha ao carregar KGJS em", kg.src);
    };
    document.head.appendChild(kg);
  })();
</script>

