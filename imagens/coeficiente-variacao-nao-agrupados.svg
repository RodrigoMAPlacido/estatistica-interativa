<?xml version="1.0" encoding="UTF-8"?>
<!-- =========================================================
   COEFICIENTE DE VARIAÇÃO (CV) — DADOS NÃO AGRUPADOS
   (mantém braços x̄±σ; mostra “CV = 44.7%” acima dos braços)
   Dados: x = {2,4,6,8}  |  n=4
   Média: x̄ = 5
   Σ (x−x̄)² = 9+1+1+9 = 20  ⇒  σ² = 20/4 = 5  ⇒  σ = √5 ≈ 2,24
   CV = σ/x̄ ≈ 2,24/5 ≈ 0,447  ⇒  44,7% (aqui exibido como 44.7%)
   ========================================================= -->
<svg viewBox="0 0 1550 744" xmlns="http://www.w3.org/2000/svg"
     role="img" aria-labelledby="title desc">
  <title id="title">Coeficiente de variação — dados não agrupados</title>
  <desc id="desc">
    Um eixo com quatro pontos (2, 4, 6, 8) e a média x̄ = 5.
    A animação percorre os pontos, mostrando o desvio (x_i − x̄) e o quadrado (x_i − x̄)².
    Ao final, surgem os braços x̄ − σ e x̄ + σ e aparece acima deles “CV = 44.7%”.
  </desc>

  <rect x="0" y="0" width="100%" height="100%" fill="#fff"/>

  <defs>
    <style>
      :root{
        --ink:#111827;
        --muted:#64748b;
        --grid:#e5e7eb;
        --accent:#64748b;
        --font:"et-book","ETBook","Georgia",serif;

        /* 84–100% ≈ 3s */
        --cycle:19s;

        --dash:1400;
        --arm:900;
      }

      text{ font-family:var(--font); fill:var(--ink); user-select:none; }

      .frame{ fill:none; stroke:var(--ink); stroke-width:2; }
      .title{ font-size:46px; font-weight:600; text-anchor:middle; }
      .subtitle{ font-size:28px; font-weight:650; fill:var(--muted); text-anchor:middle; }

      .axis{ stroke:var(--ink); stroke-width:2; stroke-linecap:round; }
      .tick{ stroke:var(--ink); stroke-width:2; opacity:.55; }

      .dot{ fill:var(--ink); opacity:.22; }
      .dotHi{ fill:var(--ink); opacity:1; }
      .spot{ fill:none; stroke:var(--accent); stroke-width:3; }

      .meanLine{
        stroke:var(--accent);
        stroke-width:4;
        stroke-dasharray:10 10;
        opacity:1;
      }
      .meanDot{ fill:var(--accent); opacity:1; }
      .meanLab{ font-size:24px; font-weight:900; fill:var(--muted); opacity:1; }

      /* Etapas */
      .steps{ font-size:22px; font-weight:800; fill:var(--muted); }
      .step{ opacity:.35; }
      .step .k{ fill:var(--ink); font-weight:900; }

      .step1{ animation:step1On var(--cycle) linear infinite; }
      .step2{ animation:step2On var(--cycle) linear infinite; }
      .step3{ animation:step3On var(--cycle) linear infinite; }
      .step4{ animation:step4On var(--cycle) linear infinite; }

      @keyframes step1On{ 0%,13.99%{opacity:.35} 14%,82%{opacity:1} 82.01%,100%{opacity:.35} }
      @keyframes step2On{ 0%,13.99%{opacity:.35} 14%,82%{opacity:1} 82.01%,100%{opacity:.35} }
      @keyframes step3On{ 0%,22.99%{opacity:.35} 23%,82%{opacity:1} 82.01%,100%{opacity:.35} }
      @keyframes step4On{ 0%,83.99%{opacity:.35} 84%,100%{opacity:1} }

      /* Linha do desvio */
      .dev{
        stroke:var(--accent);
        stroke-width:6;
        stroke-linecap:round;
        stroke-dasharray:var(--dash);
        stroke-dashoffset:var(--dash);
      }
      .cap{ fill:var(--accent); }

      /* Rótulos */
      .lbl{
        font-size:22px;
        font-weight:900;
        fill:var(--muted);
      }
      .lbl .k{ fill:var(--ink); }
      .lbl .m{ fill:var(--muted); font-weight:800; }

      /* Quadrado */
      .sq{ opacity:0; }
      .sqFill{ fill:#fff; stroke:var(--grid); stroke-width:2; rx:12; ry:12; }

      /* Slot = bloco inteiro (sem fade) */
      .slot{ opacity:0; }

      /* Janelas (com gaps):
         s1: 14–30 | gap 30–32
         s2: 32–48 | gap 48–50
         s3: 50–66 | gap 66–68
         s4: 68–82 | gap 82–84
         final: 84–100
      */
      .s1{ animation:slot1 var(--cycle) linear infinite; }
      .s2{ animation:slot2 var(--cycle) linear infinite; }
      .s3{ animation:slot3 var(--cycle) linear infinite; }
      .s4{ animation:slot4 var(--cycle) linear infinite; }

      @keyframes slot1{ 0%,13.99%{opacity:0} 14%,30%{opacity:1} 30.01%,100%{opacity:0} }
      @keyframes slot2{ 0%,31.99%{opacity:0} 32%,48%{opacity:1} 48.01%,100%{opacity:0} }
      @keyframes slot3{ 0%,49.99%{opacity:0} 50%,66%{opacity:1} 66.01%,100%{opacity:0} }
      @keyframes slot4{ 0%,67.99%{opacity:0} 68%,82%{opacity:1} 82.01%,100%{opacity:0} }

      /* desenho do traço dentro do slot */
      .draw1{ animation:draw1 var(--cycle) linear infinite; }
      .draw2{ animation:draw2 var(--cycle) linear infinite; }
      .draw3{ animation:draw3 var(--cycle) linear infinite; }
      .draw4{ animation:draw4 var(--cycle) linear infinite; }

      @keyframes draw1{
        0%,13.99%{stroke-dashoffset:var(--dash)}
        14%      {stroke-dashoffset:var(--dash)}
        23%      {stroke-dashoffset:0}
        30%      {stroke-dashoffset:0}
        30.01%,100%{stroke-dashoffset:var(--dash)}
      }
      @keyframes draw2{
        0%,31.99%{stroke-dashoffset:var(--dash)}
        32%      {stroke-dashoffset:var(--dash)}
        41%      {stroke-dashoffset:0}
        48%      {stroke-dashoffset:0}
        48.01%,100%{stroke-dashoffset:var(--dash)}
      }
      @keyframes draw3{
        0%,49.99%{stroke-dashoffset:var(--dash)}
        50%      {stroke-dashoffset:var(--dash)}
        59%      {stroke-dashoffset:0}
        66%      {stroke-dashoffset:0}
        66.01%,100%{stroke-dashoffset:var(--dash)}
      }
      @keyframes draw4{
        0%,67.99%{stroke-dashoffset:var(--dash)}
        68%      {stroke-dashoffset:var(--dash)}
        77%      {stroke-dashoffset:0}
        82%      {stroke-dashoffset:0}
        82.01%,100%{stroke-dashoffset:var(--dash)}
      }

      /* quadrado aparece depois do draw */
      .sq1{ animation:sq1 var(--cycle) linear infinite; }
      .sq2{ animation:sq2 var(--cycle) linear infinite; }
      .sq3{ animation:sq3 var(--cycle) linear infinite; }
      .sq4{ animation:sq4 var(--cycle) linear infinite; }

      @keyframes sq1{ 0%,22.99%{opacity:0} 23%,30%{opacity:1} 30.01%,100%{opacity:0} }
      @keyframes sq2{ 0%,40.99%{opacity:0} 41%,48%{opacity:1} 48.01%,100%{opacity:0} }
      @keyframes sq3{ 0%,58.99%{opacity:0} 59%,66%{opacity:1} 66.01%,100%{opacity:0} }
      @keyframes sq4{ 0%,76.99%{opacity:0} 77%,82%{opacity:1} 82.01%,100%{opacity:0} }

      /* card final */
      .card{
        fill:#fff;
        stroke:var(--grid);
        stroke-width:2;
        rx:18; ry:18;
        opacity:0;
        transform-box:fill-box;
        transform-origin:50% 50%;
      }
      .formula{
        font-size:26px;
        font-weight:900;
        text-anchor:middle;
        opacity:0;
      }
      .formula .m{ fill:var(--muted); font-weight:800; }

      .final{ animation:finalOn var(--cycle) linear infinite; }
      @keyframes finalOn{
        0%,83.99%{opacity:0; transform:translateY(6px) scale(.99);}
        84%,100% {opacity:1; transform:translateY(0px) scale(1);}
      }

      /* ===== braços: acima e longos ===== */
      .arms{ opacity:0; }
      .armsOn{ animation:armsOn var(--cycle) linear infinite; }
      @keyframes armsOn{
        0%,83.99%{opacity:0}
        84%,100% {opacity:1}
      }

      .arm{
        stroke:var(--accent);
        stroke-width:6;
        stroke-linecap:round;
        stroke-dasharray:var(--arm);
        stroke-dashoffset:var(--arm);
      }
      .armL{ animation:armL var(--cycle) linear infinite; }
      .armR{ animation:armR var(--cycle) linear infinite; }

      @keyframes armL{
        0%,83.99%{stroke-dashoffset:var(--arm)}
        84%      {stroke-dashoffset:var(--arm)}
        88%      {stroke-dashoffset:0}
        100%     {stroke-dashoffset:0}
      }
      @keyframes armR{
        0%,83.99%{stroke-dashoffset:var(--arm)}
        84%      {stroke-dashoffset:var(--arm)}
        88%      {stroke-dashoffset:0}
        100%     {stroke-dashoffset:0}
      }

      .armTick{
        stroke:var(--accent);
        stroke-width:4;
        stroke-linecap:round;
      }
      .armLbl{
        font-size:18px;
        font-weight:900;
        fill:var(--muted);
      }
      .armLbl .k{ fill:var(--ink); }
      .halo{
        paint-order:stroke;
        stroke:#fff;
        stroke-width:6;
        stroke-linejoin:round;
      }

      .xlab{ font-size:18px; font-weight:800; fill:var(--muted); }

      @media (prefers-reduced-motion:reduce){
        .s1,.s2,.s3,.s4,
        .draw1,.draw2,.draw3,.draw4,
        .sq1,.sq2,.sq3,.sq4,
        .final,.armsOn,
        .armL,.armR,
        .step1,.step2,.step3,.step4{ animation:none; }

        .slot{ opacity:1; }
        .dev{ stroke-dashoffset:0; }
        .sq{ opacity:1; }
        .card,.formula{ opacity:1; transform:none; }
        .arms{ opacity:1; }
        .arm{ stroke-dashoffset:0; }
        .step{ opacity:1; }
      }
    </style>
  </defs>

  <!-- Quadro -->
  <g transform="translate(85,92)">
    <rect x="0" y="0" width="1380" height="560" rx="22" ry="22" class="frame"/>

    <text x="690" y="58" class="title">Coeficiente de variação</text>

    <!-- Conteúdo centralizado -->
    <g transform="translate(130,80)">

      <!-- Etapas -->
      <g class="steps" transform="translate(0,80)">
        <text class="step step1" x="0" y="0"><tspan class="k">1)</tspan> escolha um ponto xᵢ</text>
        <text class="step step2" x="1120" y="0" text-anchor="end"><tspan class="k">2)</tspan> calcule xᵢ − x̄</text>
        <text class="step step3" x="0" y="30"><tspan class="k">3)</tspan> eleve ao quadrado</text>
        <text class="step step4" x="1120" y="30" text-anchor="end"><tspan class="k">4)</tspan> média, raiz e CV</text>
      </g>

      <!-- Eixo + animação -->
      <g transform="translate(0,76)">

        <!-- eixo -->
        <line x1="0" y1="210" x2="1120" y2="210" class="axis"/>
        <line x1="0" y1="198" x2="0" y2="222" class="tick"/>
        <line x1="1120" y1="198" x2="1120" y2="222" class="tick"/>

        <!-- ticks/labels (0,2,4,6,8,10) -->
        <g opacity=".75">
          <line x1="0"   y1="210" x2="0"   y2="200" class="tick"/>
          <line x1="224" y1="210" x2="224" y2="200" class="tick"/>
          <line x1="448" y1="210" x2="448" y2="200" class="tick"/>
          <line x1="672" y1="210" x2="672" y2="200" class="tick"/>
          <line x1="896" y1="210" x2="896" y2="200" class="tick"/>
          <line x1="1120" y1="210" x2="1120" y2="200" class="tick"/>

          <text class="xlab" x="0" y="245" text-anchor="middle">0</text>
          <text class="xlab" x="224" y="245" text-anchor="middle">2</text>
          <text class="xlab" x="448" y="245" text-anchor="middle">4</text>
          <text class="xlab" x="672" y="245" text-anchor="middle">6</text>
          <text class="xlab" x="896" y="245" text-anchor="middle">8</text>
          <text class="xlab" x="1120" y="245" text-anchor="middle">10</text>
        </g>

        <!-- pontos: x = 2,4,6,8 -->
        <circle class="dot" cx="224" cy="210" r="9"/>
        <circle class="dot" cx="448" cy="210" r="9"/>
        <circle class="dot" cx="672" cy="210" r="9"/>
        <circle class="dot" cx="896" cy="210" r="9"/>

        <!-- média x̄ = 5 -->
        <line class="meanLine" x1="560" y1="96" x2="560" y2="275"/>
        <text class="meanLab" x="560" y="80" text-anchor="middle">x̄ = 5</text>
        <circle class="meanDot" cx="560" cy="210" r="9"/>

        <!-- SLOT 1: x1 = 2 -->
        <g class="slot s1">
          <line class="dev draw1" x1="560" y1="150" x2="224" y2="150"/>
          <circle class="cap" cx="560" cy="150" r="6"/>
          <circle class="cap" cx="224" cy="150" r="6"/>

          <circle class="dotHi" cx="224" cy="210" r="9"/>
          <circle class="spot"  cx="224" cy="210" r="16"/>

          <text class="lbl" x="392" y="134" text-anchor="middle">
            <tspan class="k">(2</tspan> <tspan class="m">−</tspan> <tspan class="k">5)</tspan>
            <tspan class="m"> = </tspan>
            <tspan class="k">−3</tspan>
          </text>

          <g class="sq sq1" transform="translate(0,120)">
            <rect class="sqFill" x="380" y="165" width="360" height="54"/>
            <text class="lbl" x="560" y="201" text-anchor="middle">
              <tspan class="k">(2</tspan> <tspan class="m">−</tspan> <tspan class="k">5)²</tspan>
              <tspan class="m"> = </tspan>
              <tspan class="k">9</tspan>
            </text>
          </g>
        </g>

        <!-- SLOT 2: x2 = 4 -->
        <g class="slot s2">
          <line class="dev draw2" x1="560" y1="150" x2="448" y2="150"/>
          <circle class="cap" cx="560" cy="150" r="6"/>
          <circle class="cap" cx="448" cy="150" r="6"/>

          <circle class="dotHi" cx="448" cy="210" r="9"/>
          <circle class="spot"  cx="448" cy="210" r="16"/>

          <text class="lbl" x="485" y="134" text-anchor="middle">
            <tspan class="k">(4</tspan> <tspan class="m">−</tspan> <tspan class="k">5)</tspan>
            <tspan class="m"> = </tspan>
            <tspan class="k">−1</tspan>
          </text>

          <g class="sq sq2" transform="translate(0,120)">
            <rect class="sqFill" x="380" y="165" width="360" height="54"/>
            <text class="lbl" x="560" y="201" text-anchor="middle">
              <tspan class="k">(4</tspan> <tspan class="m">−</tspan> <tspan class="k">5)²</tspan>
              <tspan class="m"> = </tspan>
              <tspan class="k">1</tspan>
            </text>
          </g>
        </g>

        <!-- SLOT 3: x3 = 6 -->
        <g class="slot s3">
          <line class="dev draw3" x1="560" y1="150" x2="672" y2="150"/>
          <circle class="cap" cx="560" cy="150" r="6"/>
          <circle class="cap" cx="672" cy="150" r="6"/>

          <circle class="dotHi" cx="672" cy="210" r="9"/>
          <circle class="spot"  cx="672" cy="210" r="16"/>

          <text class="lbl" x="635" y="134" text-anchor="middle">
            <tspan class="k">(6</tspan> <tspan class="m">−</tspan> <tspan class="k">5)</tspan>
            <tspan class="m"> = </tspan>
            <tspan class="k">+1</tspan>
          </text>

          <g class="sq sq3" transform="translate(0,120)">
            <rect class="sqFill" x="380" y="165" width="360" height="54"/>
            <text class="lbl" x="560" y="201" text-anchor="middle">
              <tspan class="k">(6</tspan> <tspan class="m">−</tspan> <tspan class="k">5)²</tspan>
              <tspan class="m"> = </tspan>
              <tspan class="k">1</tspan>
            </text>
          </g>
        </g>

        <!-- SLOT 4: x4 = 8 -->
        <g class="slot s4">
          <line class="dev draw4" x1="560" y1="150" x2="896" y2="150"/>
          <circle class="cap" cx="560" cy="150" r="6"/>
          <circle class="cap" cx="896" cy="150" r="6"/>

          <circle class="dotHi" cx="896" cy="210" r="9"/>
          <circle class="spot"  cx="896" cy="210" r="16"/>

          <text class="lbl" x="728" y="134" text-anchor="middle">
            <tspan class="k">(8</tspan> <tspan class="m">−</tspan> <tspan class="k">5)</tspan>
            <tspan class="m"> = </tspan>
            <tspan class="k">+3</tspan>
          </text>

          <g class="sq sq4" transform="translate(0,120)">
            <rect class="sqFill" x="380" y="165" width="360" height="54"/>
            <text class="lbl" x="560" y="201" text-anchor="middle">
              <tspan class="k">(8</tspan> <tspan class="m">−</tspan> <tspan class="k">5)²</tspan>
              <tspan class="m"> = </tspan>
              <tspan class="k">9</tspan>
            </text>
          </g>
        </g>

        <!-- FINAL: fórmula + braços + CV acima dos braços -->
        <g transform="translate(0,50)">
          <rect class="card final" x="320" y="238" width="480" height="100"/>

          <text class="formula final" x="560" y="274">
            CV <tspan class="m">=</tspan> σ<tspan class="m">/</tspan>x̄
          </text>

          <text class="formula final" x="560" y="306" style="font-size:22px;">
            <tspan class="m"></tspan> σ ≈ 2,24 <tspan class="m">e</tspan> x̄ = 5
            <tspan class="m">⇒</tspan> CV ≈ 44.7%
          </text>


          <!-- braços acima do eixo: x̄±σ ≈ 2,76 e 7,24 -->
          <!-- escala: 0..10 ↦ 0..1120 (112px por unidade) -->
          <!-- 2,76 ↦ 310  |  7,24 ↦ 810 -->
          <g class="arms armsOn">
            <!-- CV acima dos braços -->
            <text class="armLbl halo" x="560" y="0" text-anchor="middle" style="font-size:22px;">
              CV = 44.7%
            </text>

            <line class="arm armL" x1="560" y1="120" x2="310" y2="120"/>
            <line class="arm armR" x1="560" y1="120" x2="810" y2="120"/>

            <line class="armTick" x1="310" y1="108" x2="310" y2="132"/>
            <line class="armTick" x1="560" y1="108" x2="560" y2="132"/>
            <line class="armTick" x1="810" y1="108" x2="810" y2="132"/>

            <text class="armLbl halo" x="310" y="100" text-anchor="middle"><tspan class="k">x̄</tspan> − σ ≈ 2,76</text>
            <text class="armLbl halo" x="560" y="100" text-anchor="middle"><tspan class="k">x̄</tspan> = 5</text>
            <text class="armLbl halo" x="810" y="100" text-anchor="middle"><tspan class="k">x̄</tspan> + σ ≈ 7,24</text>

            <text class="armLbl halo" x="435" y="146" text-anchor="middle">−σ</text>
            <text class="armLbl halo" x="685" y="146" text-anchor="middle">+σ</text>
          </g>
        </g>

      </g>
    </g>
  </g>
</svg>
