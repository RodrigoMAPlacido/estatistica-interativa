<!-- =========================================================
   CONCEITO DE PERCENTIS (versão mais “limpa”)
   Uma etapa por vez: P10 → P25 → P50 → P75 → P90
   CSS-only | Paleta idêntica
   ========================================================= -->
<svg viewBox="0 0 1550 744" xmlns="http://www.w3.org/2000/svg"
     role="img" aria-labelledby="title desc">
  <title id="title">Conceito de percentis</title>
  <desc id="desc">
    Observações ordenadas numa reta numérica. Em sequência, cada etapa destaca um percentil:
    P10, P25, P50 (mediana), P75 e P90, mostrando faixa acumulada (k%), linha vertical e rótulo.
    Ao final, reforça que percentil é percentual de observações (posição), não “% do valor”.
  </desc>

  <defs>
    <style>
      :root{
        --ink:#111827;
        --ink-soft:#64748b;
        --grid:#e5e7eb;
        --accent:#64748b;
        --font:"et-book","ETBook","Georgia",serif;
        --cycle:9s;
        --ease:ease-in-out;
      }

      text{ font-family:var(--font); fill:var(--ink); user-select:none; }

      .u-stroke{
        stroke:var(--ink);
        fill:none;
        stroke-linecap:round;
        stroke-linejoin:round;
      }
      .u-panel{ stroke-width:2; rx:22; ry:22; }

      .label{ font-size:46px; font-weight:600; text-anchor:middle; }
      .small{ font-size:32px; text-anchor:middle; fill:var(--ink-soft); }

      .axis{ stroke-width:2; }
      .grid{ stroke:var(--grid); stroke-width:1; stroke-dasharray:6 8; }

      .tick-label{ font-size:22px; fill:var(--ink-soft); }

      /* ===================== BASE (sempre visível) ===================== */
      .dot{ fill:var(--ink); opacity:.9; }
      .dot.soft{ opacity:.55; }

      /* linhas “marco” suaves (só para orientar, sem competir) */
      .refline{
        stroke:var(--grid);
        stroke-width:2;
        stroke-dasharray:6 10;
        opacity:.75;
      }
      .reflab{
        font-size:18px;
        fill:var(--ink-soft);
        text-anchor:middle;
        opacity:.9;
      }

      /* ===================== CAMADAS DA ETAPA ===================== */
      .seg{
        fill:var(--accent);
        opacity:.14;
      }

      .pline{
        stroke:var(--accent);
        stroke-width:4;
      }
      .p50{ stroke-dasharray:none; }
      .p25{ stroke-dasharray:10 10; }
      .p75{ stroke-dasharray:2 10; }
      .p10{ stroke-dasharray:2 10; }
      .p90{ stroke-dasharray:12 10; }

      .pct{
        font-size:22px;
        fill:var(--ink-soft);
        text-anchor:middle;
      }

      .plab{
        font-size:28px;
        font-weight:600;
        text-anchor:middle;
      }
      .plab .sub{ font-size:18px; baseline-shift:sub; }
      .plab .hint{ font-size:22px; fill:var(--ink-soft); font-weight:500; }

      .tag{
        font-size:20px;
        fill:var(--ink-soft);
        text-anchor:middle;
      }
      .tag .strong{ font-weight:700; fill:var(--ink); }

      .note-box{
        fill:#fff;
        stroke:var(--grid);
        stroke-width:2;
        rx:18; ry:18;
        opacity:0;
      }
      .note-text{
        font-size:26px;
        fill:var(--ink);
        opacity:0;
      }
      .note-text .strong{ font-weight:700; }
      .note-text .soft{ fill:var(--ink-soft); }

      /* ===================== TIMING (uma etapa por vez) ===================== */
      .frame{ opacity:0; }

      .f10{ animation:f10 var(--cycle) var(--ease) infinite; }
      .f25{ animation:f25 var(--cycle) var(--ease) infinite; }
      .f50{ animation:f50 var(--cycle) var(--ease) infinite; }
      .f75{ animation:f75 var(--cycle) var(--ease) infinite; }
      .f90{ animation:f90 var(--cycle) var(--ease) infinite; }

      /* cada etapa: “entra” → fica → sai */
      @keyframes f10{ 0%,10%{opacity:0} 14%,28%{opacity:1} 32%,100%{opacity:0} }
      @keyframes f25{ 0%,22%{opacity:0} 26%,40%{opacity:1} 44%,100%{opacity:0} }
      @keyframes f50{ 0%,34%{opacity:0} 38%,52%{opacity:1} 56%,100%{opacity:0} }
      @keyframes f75{ 0%,46%{opacity:0} 50%,64%{opacity:1} 68%,100%{opacity:0} }
      @keyframes f90{ 0%,58%{opacity:0} 62%,76%{opacity:1} 80%,100%{opacity:0} }

      /* nota final aparece no fim */
      .a-note{ animation:noteOn var(--cycle) var(--ease) infinite; }
      @keyframes noteOn{
        0%,78%{ opacity:0; transform:translateY(8px); }
        86%,100%{ opacity:1; transform:translateY(0px); }
      }

      /* dots entram no começo (leve) */
      .a-dots{
        transform-box:fill-box;
        transform-origin:50% 50%;
        animation:dotsIn var(--cycle) var(--ease) infinite;
      }
      @keyframes dotsIn{
        0%,8%{ opacity:0; transform:scale(.985); }
        14%,100%{ opacity:1; transform:scale(1); }
      }

      @media (prefers-reduced-motion:reduce){
        .f10,.f25,.f50,.f75,.f90,.a-note,.a-dots{ animation:none; }
        .frame{ opacity:1; }
        .note-box,.note-text{ opacity:1; transform:none; }
      }
    </style>
  </defs>

  <g transform="translate(85,92)">
    <rect x="0" y="0" width="1380" height="560" class="u-panel u-stroke"/>

    <text x="690" y="55" class="label">Percentis</text>
    <text x="690" y="90" class="small">Um corte P<tspan baseline-shift="sub" font-size="22">k</tspan> por vez (k% das observações abaixo)</text>

    <g transform="translate(110,150)">
      <!-- grid -->
      <g class="grid">
        <line x1="0" y1="150" x2="1160" y2="150"/>
        <line x1="0" y1="210" x2="1160" y2="210"/>
        <line x1="0" y1="90"  x2="1160" y2="90"/>
      </g>

      <!-- eixo -->
      <g class="u-stroke axis">
        <line x1="0" y1="150" x2="1160" y2="150"/>
      </g>

      <!-- ticks mínimos -->
      <g class="u-stroke" style="stroke-width:2">
        <line x1="0"    y1="140" x2="0"    y2="160"/>
        <line x1="1160" y1="140" x2="1160" y2="160"/>
      </g>
      <g class="tick-label">
        <text x="0" y="190" text-anchor="middle">mín</text>
        <text x="1160" y="190" text-anchor="middle">máx</text>
      </g>

      <!-- linhas-guia suaves (ajudam sem “competir”) -->
      <!-- posições em 1160: 10=116, 25=290, 50=580, 75=870, 90=1044 -->
      <g>
        <line class="refline" x1="116"  y1="70" x2="116"  y2="230"/>
        <line class="refline" x1="290"  y1="70" x2="290"  y2="230"/>
        <line class="refline" x1="580"  y1="70" x2="580"  y2="230"/>
        <line class="refline" x1="870"  y1="70" x2="870"  y2="230"/>
        <line class="refline" x1="1044" y1="70" x2="1044" y2="230"/>

        <text class="reflab" x="116"  y="68">10</text>
        <text class="reflab" x="290"  y="68">25</text>
        <text class="reflab" x="580"  y="68">50</text>
        <text class="reflab" x="870"  y="68">75</text>
        <text class="reflab" x="1044" y="68">90</text>
      </g>

      <!-- observações -->
      <g class="a-dots">
        <circle class="dot"      cx="40.0"    cy="150" r="7"/>
        <circle class="dot soft" cx="96.8"    cy="150" r="7"/>
        <circle class="dot"      cx="153.7"   cy="150" r="7"/>
        <circle class="dot soft" cx="210.5"   cy="150" r="7"/>
        <circle class="dot"      cx="267.4"   cy="150" r="7"/>
        <circle class="dot soft" cx="324.2"   cy="150" r="7"/>
        <circle class="dot"      cx="381.1"   cy="150" r="7"/>
        <circle class="dot soft" cx="437.9"   cy="150" r="7"/>
        <circle class="dot"      cx="494.7"   cy="150" r="7"/>
        <circle class="dot soft" cx="551.6"   cy="150" r="7"/>
        <circle class="dot"      cx="608.4"   cy="150" r="7"/>
        <circle class="dot soft" cx="665.3"   cy="150" r="7"/>
        <circle class="dot"      cx="722.1"   cy="150" r="7"/>
        <circle class="dot soft" cx="778.9"   cy="150" r="7"/>
        <circle class="dot"      cx="835.8"   cy="150" r="7"/>
        <circle class="dot soft" cx="892.6"   cy="150" r="7"/>
        <circle class="dot"      cx="949.5"   cy="150" r="7"/>
        <circle class="dot soft" cx="1006.3"  cy="150" r="7"/>
        <circle class="dot"      cx="1063.2"  cy="150" r="7"/>
        <circle class="dot soft" cx="1120.0"  cy="150" r="7"/>
      </g>

      <!-- ===================== FRAMES (um percentil por vez) ===================== -->
      <!-- P10 -->
      <g class="frame f10">
        <rect class="seg" x="0" y="120" width="116" height="60"/>
        <line class="pline p10" x1="116" y1="40" x2="116" y2="250"/>
        <text class="pct" x="116" y="272">10%</text>
        <text class="plab" x="116" y="18">P<tspan class="sub">10</tspan></text>
        <text class="tag" x="116" y="306">corte com <tspan class="strong">10%</tspan> abaixo</text>
      </g>

      <!-- P25 = Q1 -->
      <g class="frame f25">
        <rect class="seg" x="0" y="120" width="290" height="60"/>
        <line class="pline p25" x1="290" y1="40" x2="290" y2="250"/>
        <text class="pct" x="290" y="272">25%</text>
        <text class="plab" x="290" y="18">P<tspan class="sub">25</tspan></text>
        <text class="tag" x="290" y="306"><tspan class="strong">P</tspan><tspan baseline-shift="sub" font-size="16" class="strong">25</tspan> = <tspan class="strong">Q</tspan><tspan baseline-shift="sub" font-size="16" class="strong">1</tspan></text>
      </g>

      <!-- P50 = mediana = D5 -->
      <g class="frame f50">
        <rect class="seg" x="0" y="120" width="580" height="60"/>
        <line class="pline p50" x1="580" y1="40" x2="580" y2="250"/>
        <text class="pct" x="580" y="272">50%</text>
        <text class="plab" x="580" y="18">P<tspan class="sub">50</tspan><tspan class="hint"> (mediana)</tspan></text>
        <text class="tag" x="580" y="306"><tspan class="strong">P</tspan><tspan baseline-shift="sub" font-size="16" class="strong">50</tspan> = mediana = <tspan class="strong">D</tspan><tspan baseline-shift="sub" font-size="16" class="strong">5</tspan></text>
      </g>

      <!-- P75 = Q3 -->
      <g class="frame f75">
        <rect class="seg" x="0" y="120" width="870" height="60"/>
        <line class="pline p75" x1="870" y1="40" x2="870" y2="250"/>
        <text class="pct" x="870" y="272">75%</text>
        <text class="plab" x="870" y="18">P<tspan class="sub">75</tspan></text>
        <text class="tag" x="870" y="306"><tspan class="strong">P</tspan><tspan baseline-shift="sub" font-size="16" class="strong">75</tspan> = <tspan class="strong">Q</tspan><tspan baseline-shift="sub" font-size="16" class="strong">3</tspan></text>
      </g>

      <!-- P90 -->
      <g class="frame f90">
        <rect class="seg" x="0" y="120" width="1044" height="60"/>
        <line class="pline p90" x1="1044" y1="40" x2="1044" y2="250"/>
        <text class="pct" x="1044" y="272">90%</text>
        <text class="plab" x="1044" y="18">P<tspan class="sub">90</tspan></text>
        <text class="tag" x="1044" y="306">corte com <tspan class="strong">90%</tspan> abaixo</text>
      </g>

      <!-- nota final -->
      <g class="a-note">
        <rect class="note-box" x="120" y="330" width="920" height="92"/>
        <text class="note-text" x="580" y="370" text-anchor="middle">
          <tspan class="strong">Percentil</tspan>
          <tspan class="soft"> = posição (k% das observações abaixo), não “% do valor”.</tspan>
        </text>
      </g>

    </g>
  </g>
</svg>
