<svg viewBox="0 0 1000 620" xmlns="http://www.w3.org/2000/svg">

  <defs>
    <style>
      :root{
        --ink:#0f172a;
        --ink-soft:#1e293b;
        --bar-fill:#111827;
        --accent:#64748b;
        --grid:#e5e7eb;
        --font:"et-book","ETBook","Georgia",serif;
        --dash:1500;
        --cycle:6s;
        --ease:ease-in-out;
      }

      text{
        font-family:var(--font);
        fill:var(--ink);
      }

      .u-card{
        fill:#ffffff;
        stroke:var(--ink);
        stroke-width:2.2;
        rx:22;
        ry:22;
      }

      .u-title{
        font-size:24px;
        font-weight:700;
      }
      .u-sub{
        font-size:17px;
        fill:var(--ink-soft);
      }

      .u-axis{
        stroke:var(--ink);
        stroke-width:2;
        vector-effect:non-scaling-stroke;
      }
      .u-grid{
        stroke:var(--grid);
        stroke-width:1.2;
        stroke-dasharray:6 8;
        vector-effect:non-scaling-stroke;
      }

      .u-bar{
        fill:var(--bar-fill);
        opacity:0.90;
        transform-box:fill-box;
        transform-origin:50% 100%;
        animation:k-grow var(--cycle) var(--ease) infinite;
      }

      .u-poly{
        fill:none;
        stroke:var(--accent);
        stroke-width:3;
        stroke-linejoin:round;
        stroke-linecap:round;
        stroke-dasharray:var(--dash);
        stroke-dashoffset:var(--dash);
        animation:k-draw var(--cycle) var(--ease) infinite;
      }

      /* Pontos: posição fixa, só animamos a opacidade */
      .u-node{
        fill:var(--accent);
        opacity:0;
      }

      .u-label{
        font-size:15px;
        fill:var(--ink);
      }

      /* Barras crescendo no início do ciclo */
      @keyframes k-grow{
        0%,12%   { transform:scaleY(0); }
        30%,100% { transform:scaleY(1); }
      }

      /* Linha sendo desenhada até 65% do ciclo */
      @keyframes k-draw{
        0%,25%   { stroke-dashoffset:var(--dash); }
        65%,100% { stroke-dashoffset:0; }
      }

      /* Pontos aparecem quando o traço termina e ficam até o fim */
      @keyframes k-node{
        0%,25%   { opacity:0; }
        30%,100% { opacity:1; }
      }

    </style>
  </defs>

  <!-- Moldura externa -->
  <rect class="u-card" x="60" y="40" width="880" height="540"/>

  <!-- Grupo do gráfico (sem moldura) -->
  <g id="histograma" transform="translate(-150,-30) scale(1.3)">

    <!-- Títulos -->
    <text class="u-title" x="500" y="90" text-anchor="middle">
      Histograma e Polígono de Frequências
    </text>

    <text class="u-sub" x="500" y="120" text-anchor="middle">
      Tempo diário de estudo (horas)
    </text>

    <!-- Grid horizontal -->
    <line class="u-grid" x1="210" y1="420" x2="820" y2="420"/>
    <line class="u-grid" x1="210" y1="350" x2="820" y2="350"/>
    <line class="u-grid" x1="210" y1="280" x2="820" y2="280"/>
    <line class="u-grid" x1="210" y1="210" x2="820" y2="210"/>

    <!-- Eixos -->
    <line class="u-axis" x1="210" y1="420" x2="820" y2="420"/>
    <line class="u-axis" x1="210" y1="190" x2="210" y2="420"/>

    <!-- Rótulos do eixo Y -->
    <text class="u-label" x="195" y="424" text-anchor="end">0</text>
    <text class="u-label" x="195" y="354" text-anchor="end">2</text>
    <text class="u-label" x="195" y="284" text-anchor="end">4</text>
    <text class="u-label" x="195" y="214" text-anchor="end">6</text>

    <!-- Marcas do eixo X -->
    <g class="u-axis">
      <line x1="210" y1="420" x2="210" y2="426"/>
      <line x1="332" y1="420" x2="332" y2="426"/>
      <line x1="454" y1="420" x2="454" y2="426"/>
      <line x1="576" y1="420" x2="576" y2="426"/>
      <line x1="698" y1="420" x2="698" y2="426"/>
      <line x1="820" y1="420" x2="820" y2="426"/>
    </g>

    <!-- Rótulos do eixo X -->
    <text class="u-label" x="210" y="455" text-anchor="middle">0</text>
    <text class="u-label" x="332" y="455" text-anchor="middle">1</text>
    <text class="u-label" x="454" y="455" text-anchor="middle">2</text>
    <text class="u-label" x="576" y="455" text-anchor="middle">3</text>
    <text class="u-label" x="698" y="455" text-anchor="middle">4</text>
    <text class="u-label" x="820" y="455" text-anchor="middle">5</text>

    <!-- Barras do histograma -->
    <rect class="u-bar" x="210" y="315" width="122" height="105"/>
    <rect class="u-bar" x="332" y="210" width="122" height="210"/>
    <rect class="u-bar" x="454" y="245" width="122" height="175"/>
    <rect class="u-bar" x="576" y="280" width="122" height="140"/>
    <rect class="u-bar" x="698" y="350" width="122" height="70"/>

    <!-- Labels das frequências -->
    <text class="u-label" x="271" y="300" text-anchor="middle">3</text>
    <text class="u-label" x="393" y="200" text-anchor="middle">6</text>
    <text class="u-label" x="515" y="235" text-anchor="middle">5</text>
    <text class="u-label" x="637" y="270" text-anchor="middle">4</text>
    <text class="u-label" x="759" y="340" text-anchor="middle">2</text>

    <!-- Polígono de frequências -->
    <path class="u-poly"
          d="M210 420
             L271 315
             L393 210
             L515 245
             L637 280
             L759 350
             L820 420" />

    <!-- Nós do polígono: aparecem todos juntos quando o traço termina -->
    <circle class="u-node" cx="271" cy="315" r="4" style="animation:k-node var(--cycle) var(--ease) infinite;"/>
    <circle class="u-node" cx="393" cy="210" r="4" style="animation:k-node var(--cycle) var(--ease) infinite;"/>
    <circle class="u-node" cx="515" cy="245" r="4" style="animation:k-node var(--cycle) var(--ease) infinite;"/>
    <circle class="u-node" cx="637" cy="280" r="4" style="animation:k-node var(--cycle) var(--ease) infinite;"/>
    <circle class="u-node" cx="759" cy="350" r="4" style="animation:k-node var(--cycle) var(--ease) infinite;"/>

  </g>

</svg>
