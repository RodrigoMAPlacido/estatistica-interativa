<?xml version="1.0" encoding="UTF-8"?>
<!-- ===========================================
   AMPLITUDE TOTAL EM DADOS AGRUPADOS EM CLASSES
   Horas de estudo por semana — N = 20
   Classes: [0,5) [5,10) [10,15) [15,20)
   f: 4, 9, 6, 1 | F: 4, 13, 19, 20
   A = U4 − L1 = 20 − 0 = 20
   Padrão unificado (u-*/subscript/rowHi/grow)
   + Barras "quase coladas" (gap ~1px total por classe)
   + TEMP: background branco fácil de remover (.tmp-bg)
   =========================================== -->
<svg viewBox="0 0 1500 780" xmlns="http://www.w3.org/2000/svg"
     role="img" aria-labelledby="title desc">
  <title id="title">Amplitude total em dados agrupados em classes</title>
  <desc id="desc">
    À esquerda, tabela com classes, frequências e acumuladas. Em destaque, a primeira classe (L1=0)
    e a última (U4=20). À direita, histograma com uma linha horizontal ligando L1 a U4 indicando a
    amplitude total A = U4 − L1 = 20.
  </desc>

  <!-- TEMP: fundo branco (remover depois) -->
  <rect class="tmp-bg" x="0" y="0" width="100%" height="100%"/>

  <defs>
    <style>
      :root{
        --ink:#111827;
        --ink-soft:#64748b;
        --grid:#e5e7eb;
        --font:"et-book","ETBook","Georgia",serif;
        --cycle:8s;
        --ease:ease-in-out;
      }

      /* TEMP */
      .tmp-bg{ fill:#fff; }

      text{
        font-family:var(--font);
        fill:var(--ink);
        user-select:none;
      }

      .u-stroke{
        stroke:var(--ink);
        fill:none;
        stroke-linecap:round;
        stroke-linejoin:round;
      }

      .u-panel{ stroke-width:2; rx:12; }

      .label{
        font-size:32px;
        font-weight:600;
        text-anchor:middle;
      }

      .u-small{ font-size:18px; }
      .tiny{ font-size:15px; }

      .subscript{
        font-size:0.7em;
        font-weight:600;
        baseline-shift:-0.3em;
      }

      /* ====== Varredura das linhas da tabela ====== */
      @keyframes rowHi{
        0%,10%{opacity:0}
        15%,25%{opacity:.18}
        30%,100%{opacity:0}
      }
      .row-hi{ fill:var(--ink); opacity:0 }
      .r1{ animation:rowHi var(--cycle) var(--ease) infinite 0s }
      .r2{ animation:rowHi var(--cycle) var(--ease) infinite .7s }
      .r3{ animation:rowHi var(--cycle) var(--ease) infinite 1.4s }
      .r4{ animation:rowHi var(--cycle) var(--ease) infinite 2.1s }
      .r5{ animation:rowHi var(--cycle) var(--ease) infinite 2.8s }

      /* ====== Barras do histograma ====== */
      @keyframes grow{
        0%{ transform:scaleY(0) }
        18%,82%{ transform:scaleY(1) }
        100%{ transform:scaleY(0) }
      }
      .bar{
        fill:var(--ink);
        transform-box:fill-box;
        transform-origin:bottom;
        transform:scaleY(0);
      }
      .b1{ animation:grow var(--cycle) var(--ease) infinite 0s }
      .b2{ animation:grow var(--cycle) var(--ease) infinite .15s }
      .b3{ animation:grow var(--cycle) var(--ease) infinite .30s }
      .b4{ animation:grow var(--cycle) var(--ease) infinite .45s }

      /* ====== Amplitude (linha + caps + rótulos) ====== */
      .u-a-line{
        stroke:var(--ink);
        stroke-width:2.8;
        stroke-dasharray:520;
        stroke-dashoffset:520;
        opacity:.95;
        animation:aLine var(--cycle) var(--ease) infinite;
      }
      .a-cap{
        stroke:var(--ink);
        stroke-width:2.8;
        opacity:0;
        animation:aCaps var(--cycle) var(--ease) infinite;
      }
      .a-label{
        font-size:16px;
        font-weight:700;
        text-anchor:middle;
        opacity:0;
        animation:aLabel var(--cycle) var(--ease) infinite;
      }
      .a-formula{
        font-size:15px;
        font-weight:700;
        text-anchor:middle;
        opacity:0;
        animation:aLabel var(--cycle) var(--ease) infinite;
      }

      @keyframes aLine{
        0%{ stroke-dashoffset:520; opacity:0 }
        22%,68%{ stroke-dashoffset:0; opacity:1 }
        86%,100%{ stroke-dashoffset:520; opacity:0 }
      }
      @keyframes aCaps{
        0%,28%{ opacity:0 }
        38%,72%{ opacity:1 }
        86%,100%{ opacity:0 }
      }
      @keyframes aLabel{
        0%,30%{ opacity:0; transform:translateY(6px); }
        40%,74%{ opacity:1; transform:translateY(0px); }
        86%,100%{ opacity:0; transform:translateY(6px); }
      }

      /* ====== “Chamada” L1 e U4 no eixo X ====== */
      .call{
        font-size:14px;
        font-weight:700;
        text-anchor:middle;
        fill:var(--ink);
        opacity:0;
      }
      .call-bg{
        fill:#fff;
        stroke:var(--grid);
        stroke-width:1.5;
        rx:8; ry:8;
        opacity:0;
      }

      .a-L1{ animation:callL1 var(--cycle) var(--ease) infinite; }
      @keyframes callL1{
        0%,14%{opacity:0; transform:translateY(6px);}
        18%,26%{opacity:1; transform:translateY(0px);}
        32%,100%{opacity:0; transform:translateY(6px);}
      }

      .a-U4{ animation:callU4 var(--cycle) var(--ease) infinite; }
      @keyframes callU4{
        0%,40%{opacity:0; transform:translateY(6px);}
        44%,52%{opacity:1; transform:translateY(0px);}
        58%,100%{opacity:0; transform:translateY(6px);}
      }

      @media (prefers-reduced-motion:reduce){
        .row-hi{ animation:none; opacity:.12 }
        .bar{ animation:none; transform:scaleY(1) }
        .u-a-line{ animation:none; stroke-dashoffset:0; opacity:1 }
        .a-cap,.a-label,.a-formula{ animation:none; opacity:1; transform:none }
        .a-L1,.a-U4{ animation:none; opacity:1; transform:none }
      }
    </style>
  </defs>

  <!-- ================= PAINEL ESQUERDO: TABELA ================= -->
  <g id="panel-table" transform="translate(-140,-200) scale(1.2)">
    <g class="p-panel">
      <rect x="120" y="230" width="560" height="510" class="u-panel u-stroke"/>

      <g class="p-header">
        <text x="390" y="280" class="label">Amplitude total em classes</text>
        <text x="390" y="308" class="u-small" text-anchor="middle">
          Horas de estudo por semana — N = 20
        </text>
      </g>

      <g class="p-body" transform="translate(8,15)">
        <line x1="160" y1="364" x2="620" y2="364" class="u-stroke" style="stroke-width:2"/>

        <g font-size="18" font-weight="600">
          <text x="200" y="332" text-anchor="middle">Classe</text>
          <text x="200" y="352" text-anchor="middle">(h/sem)</text>
          <text x="400" y="352" text-anchor="middle">
            Frequência f<tspan class="subscript">j</tspan>
          </text>
          <text x="580" y="332" text-anchor="middle">Freq.</text>
          <text x="580" y="352" text-anchor="middle">
            acum. F<tspan class="subscript">j</tspan>
          </text>
        </g>

        <g class="u-stroke">
          <line x1="160" y1="404" x2="620" y2="404"/>
          <line x1="160" y1="444" x2="620" y2="444"/>
          <line x1="160" y1="484" x2="620" y2="484"/>
          <line x1="160" y1="524" x2="620" y2="524"/>
          <line x1="160" y1="564" x2="620" y2="564"/>
        </g>

        <rect x="160" y="374" width="460" height="30" class="row-hi r1"/>
        <rect x="160" y="414" width="460" height="30" class="row-hi r2"/>
        <rect x="160" y="454" width="460" height="30" class="row-hi r3"/>
        <rect x="160" y="494" width="460" height="30" class="row-hi r4"/>
        <rect x="160" y="534" width="460" height="30" class="row-hi r5"/>

        <g font-size="19">
          <text x="175" y="396">[0, 5)</text>
          <text x="405" y="396" text-anchor="end">4</text>
          <text x="590" y="396" text-anchor="end">4</text>

          <text x="175" y="436">[5, 10)</text>
          <text x="405" y="436" text-anchor="end">9</text>
          <text x="590" y="436" text-anchor="end">13</text>

          <text x="175" y="476">[10, 15)</text>
          <text x="405" y="476" text-anchor="end">6</text>
          <text x="590" y="476" text-anchor="end">19</text>

          <text x="175" y="516">[15, 20)</text>
          <text x="405" y="516" text-anchor="end">1</text>
          <text x="590" y="516" text-anchor="end">20</text>

          <text x="175" y="556" font-weight="700">Totais</text>
          <text x="405" y="556" text-anchor="end" font-weight="700">20</text>
          <text x="590" y="556" text-anchor="end" font-weight="700">20</text>
        </g>
      </g>

      <g class="p-footer" transform="translate(0,15)">
        <text x="390" y="655" class="u-small" text-anchor="middle">
          Extremos por classes: L<tspan class="subscript">1</tspan>=0 e U<tspan class="subscript">4</tspan>=20.
        </text>
        <text x="390" y="680" class="u-small" text-anchor="middle">
          Amplitude total: A = U<tspan class="subscript">4</tspan> − L<tspan class="subscript">1</tspan> = 20 − 0 = 20.
        </text>
      </g>
    </g>
  </g>

  <!-- ================= PAINEL DIREITO: HISTOGRAMA + AMPLITUDE ================= -->
  <g id="panel-hist" transform="translate(-220,-200) scale(1.2)">
    <g class="p-panel">
      <rect x="840" y="230" width="580" height="510" class="u-panel u-stroke"/>

      <g class="p-header">
        <text x="1128" y="280" class="label">Histograma e amplitude</text>
        <text x="1128" y="308" class="u-small" text-anchor="middle">
          Frequências por classe e intervalo global coberto
        </text>
      </g>

      <g class="p-body" transform="translate(-85,-70) scale(1.1)">
        <!-- Eixos -->
        <g class="u-stroke" style="stroke-width:2.5">
          <line x1="890" y1="670" x2="1340" y2="670"/>
          <line x1="890" y1="670" x2="890" y2="450"/>
        </g>

        <!-- Grades Y (0..9) -->
        <g class="u-stroke u-small" opacity=".35" style="stroke-width:2">
          <line x1="890" y1="670.0" x2="1340" y2="670.0"/><text x="872" y="674.0" text-anchor="end" opacity=".85">0</text>
          <line x1="890" y1="645.6" x2="1340" y2="645.6"/><text x="872" y="649.6" text-anchor="end" opacity=".85">1</text>
          <line x1="890" y1="621.1" x2="1340" y2="621.1"/><text x="872" y="625.1" text-anchor="end" opacity=".85">2</text>
          <line x1="890" y1="596.7" x2="1340" y2="596.7"/><text x="872" y="600.7" text-anchor="end" opacity=".85">3</text>
          <line x1="890" y1="572.2" x2="1340" y2="572.2"/><text x="872" y="576.2" text-anchor="end" opacity=".85">4</text>
          <line x1="890" y1="547.8" x2="1340" y2="547.8"/><text x="872" y="551.8" text-anchor="end" opacity=".85">5</text>
          <line x1="890" y1="523.3" x2="1340" y2="523.3"/><text x="872" y="527.3" text-anchor="end" opacity=".85">6</text>
          <line x1="890" y1="498.9" x2="1340" y2="498.9"/><text x="872" y="502.9" text-anchor="end" opacity=".85">7</text>
          <line x1="890" y1="474.4" x2="1340" y2="474.4"/><text x="872" y="478.4" text-anchor="end" opacity=".85">8</text>
          <line x1="890" y1="450.0" x2="1340" y2="450.0"/><text x="872" y="454.0" text-anchor="end" opacity=".85">9</text>
        </g>

        <!-- Barras ainda mais coladas:
             step = 112.5 | inset = 0.5 => gap total = 1.0px por classe
             width = 112.5 - 2*0.5 = 111.5
        -->
        <rect x="890.5"  y="572.22" width="111.5" height="97.78"  class="bar b1"/> <!-- [0,5)  f=4 -->
        <rect x="1003.0" y="450.00" width="111.5" height="220.00" class="bar b2"/> <!-- [5,10) f=9 -->
        <rect x="1115.5" y="523.33" width="111.5" height="146.67" class="bar b3"/> <!-- [10,15) f=6 -->
        <rect x="1228.0" y="645.56" width="111.5" height="24.44"  class="bar b4"/> <!-- [15,20) f=1 -->

        <!-- Ticks (limites) -->
        <g class="u-stroke" style="stroke-width:2" opacity=".85">
          <line x1="890.0"  y1="670" x2="890.0"  y2="662"/>
          <line x1="1002.5" y1="670" x2="1002.5" y2="662"/>
          <line x1="1115.0" y1="670" x2="1115.0" y2="662"/>
          <line x1="1227.5" y1="670" x2="1227.5" y2="662"/>
          <line x1="1340.0" y1="670" x2="1340.0" y2="662"/>
        </g>

        <g class="u-small" font-weight="700">
          <text x="890.0"  y="695" text-anchor="middle">0</text>
          <text x="1002.5" y="695" text-anchor="middle">5</text>
          <text x="1115.0" y="695" text-anchor="middle">10</text>
          <text x="1227.5" y="695" text-anchor="middle">15</text>
          <text x="1340.0" y="695" text-anchor="middle">20</text>
        </g>

        <g class="u-small" font-weight="600">
          <text x="946.25"  y="720" text-anchor="middle">[0,5)</text>
          <text x="1058.75" y="720" text-anchor="middle">[5,10)</text>
          <text x="1171.25" y="720" text-anchor="middle">[10,15)</text>
          <text x="1283.75" y="720" text-anchor="middle">[15,20)</text>
        </g>

        <!-- Chamada L1 e U4 -->
        <g class="a-L1">
          <rect class="call-bg" x="862" y="706" width="56" height="22"/>
          <text class="call" x="890" y="722">
            L<tspan class="subscript">1</tspan>=0
          </text>
        </g>

        <g class="a-U4">
          <rect class="call-bg" x="1312" y="706" width="56" height="22"/>
          <text class="call" x="1340" y="722">
            U<tspan class="subscript">4</tspan>=20
          </text>
        </g>

        <!-- Amplitude total (linha + caps) -->
        <line x1="890" y1="420" x2="1340" y2="420" class="u-a-line"/>
        <line x1="890"  y1="407" x2="890"  y2="433" class="a-cap"/>
        <line x1="1340" y1="407" x2="1340" y2="433" class="a-cap"/>

        <!-- rótulos -->
        <g>
          <rect x="1028" y="350" width="174" height="54" fill="#fff" opacity="0.92" stroke="none"/>
          <text x="1115" y="374" class="a-formula">
            A = U<tspan class="subscript">4</tspan> − L<tspan class="subscript">1</tspan>
          </text>
          <text x="1115" y="396" class="a-label">
            20 − 0 = 20
          </text>
        </g>

      </g>
    </g>
  </g>

</svg>
