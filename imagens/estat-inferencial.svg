<!-- imagens/estatistica-inferencial-animada.svg -->
<svg viewBox="0 0 1500 750" xmlns="http://www.w3.org/2000/svg" role="graphics-document" aria-labelledby="title desc">
  <title id="title">Estatística Inferencial — animação didática (CSS only)</title>
  <desc id="desc">Amostragem, intervalo de confiança e teste de hipótese (com curva normal animada em loop e zonas críticas com fade).</desc>

  <defs>
    <g id="dot-row">
      <circle cx="0" cy="0" r="5"/>
      <circle cx="40" cy="0" r="5"/>
      <circle cx="80" cy="0" r="5"/>
      <circle cx="120" cy="0" r="5"/>
      <circle cx="160" cy="0" r="5"/>
      <circle cx="200" cy="0" r="5"/>
      <circle cx="240" cy="0" r="5"/>
    </g>

    <style>
      :root{
        --stroke:#111827;
        --text:#111827;
        --font:"et-book","ETBook","Georgia",serif;
        --cycle:8s;
        /* adições para o traçado do tronco/ramos */
        --easing:ease-in-out;
        --dash:4000; /* dash bem maior que qualquer segmento */
      }
      text{font-family:var(--font);fill:var(--text);user-select:none}
      .stroke{stroke:var(--stroke);fill:none;stroke-linecap:round;stroke-linejoin:round}
      .box{stroke-width:3;rx:15}
      .panel{stroke-width:2;rx:12}
      .title{font-weight:700;font-size:45px;text-anchor:middle}
      .label{font-size:36px;font-weight:500;text-anchor:middle}

      /* ===== animações principais ===== */
      @keyframes scanX{0%{transform:translateX(0)}50%{transform:translateX(140px)}100%{transform:translateX(0)}}
      .scanner{animation:scanX var(--cycle) cubic-bezier(.42,0,.58,1) infinite}

      @keyframes popDot{
        0%,20%{opacity:0;transform:scale(.6)}
        28%,72%{opacity:1;transform:scale(1)}
        88%,100%{opacity:0;transform:scale(.6)}
      }
      .sample-dot{fill:var(--stroke);opacity:0;animation:popDot var(--cycle) ease-in-out infinite}

      @keyframes growLine{
        0%,22%{stroke-dashoffset:160;opacity:0}
        36%,72%{stroke-dashoffset:0;opacity:1}
        90%,100%{stroke-dashoffset:160;opacity:0}
      }
      .grow{stroke-dasharray:160;stroke-dashoffset:160;animation:growLine var(--cycle) ease-in-out infinite}

      @keyframes fade{
        0%,20%{opacity:0}
        28%,74%{opacity:1}
        88%,100%{opacity:0}
      }
      .ic{opacity:0;animation:fade var(--cycle) ease-in-out infinite}

      /* ===== animação curva de sino ===== */
      @keyframes drawCurve {
        0% {stroke-dashoffset:900;opacity:0}
        20% {opacity:1}
        50% {stroke-dashoffset:0;opacity:1}
        100% {stroke-dashoffset:900;opacity:0}
      }
      .bell-path {
        stroke-dasharray:900;
        stroke-dashoffset:900;
        animation:drawCurve var(--cycle) ease-in-out infinite;
      }

      @keyframes fadeCrit {
        0%,25%,100% {opacity:0.15}
        50%,75% {opacity:0.65}
      }
      .crit-zone {animation:fadeCrit var(--cycle) ease-in-out infinite}

      /* ===== traçado do TÍTULO (já existente) ===== */
:root{
  --cycle:8s;
  --easing:ease-in-out;
  --dash-text:700;
}
@keyframes drawLineCycle{
  0%   { stroke-dashoffset: var(--dash-text); opacity:0; }
  10%  { opacity:1; }
  45%  { stroke-dashoffset: 0; opacity:1; }
  55%  { stroke-dashoffset: 0; opacity:1; }
  90%  { stroke-dashoffset: var(--dash-text); opacity:1; }
  100% { stroke-dashoffset: var(--dash-text); opacity:0; }
}
@keyframes fillTextCycle{
  0%,18%   { fill:transparent; }
  34%,66%  { fill:#111827; }
  92%,100% { fill:transparent; }
}
.text-stroke-fill{
  stroke:#111827;
  stroke-width:.9;
  stroke-linecap:round;
  stroke-linejoin:round;
  fill:transparent;
  stroke-dasharray: var(--dash-text);
  stroke-dashoffset: var(--dash-text);
  animation:
    drawLineCycle var(--cycle) var(--easing) infinite both,
    fillTextCycle var(--cycle) var(--easing) infinite both;
}

      /* ===== NOVO: traçado do tronco/ramos igual ao outro SVG ===== */
      @keyframes drawLineSym{
        0%   { stroke-dashoffset:var(--dash); opacity:0; }
        10%  { opacity:1; }
        42%  { stroke-dashoffset:0;          opacity:1; }
        58%  { stroke-dashoffset:0;          opacity:1; }
        90%  { stroke-dashoffset:var(--dash); opacity:1; }
        100% { stroke-dashoffset:var(--dash); opacity:0; }
      }
      .drawn{
        stroke-dasharray:var(--dash);
        stroke-dashoffset:var(--dash);
        animation: drawLineSym var(--cycle) var(--easing) infinite both;
        animation-delay: var(--delay,0s);
      }

      @media (prefers-reduced-motion:reduce){
        .text-stroke-fill{ animation:none; stroke-dashoffset:0; fill:#111827; }
        .drawn{ animation:none; stroke-dashoffset:0; opacity:1; }
      }
    </style>

    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,5 L0,10 Z" fill="#111827"/>
    </marker>
  </defs>

  <!-- ===== TÍTULO ===== -->
  <g>
    <rect x="520" y="60" width="460" height="110" class="box stroke"/>
    <text x="750" y="110"  class="title text">ESTATÍSTICA</text>
    <text x="750" y="155"  class="title text">INFERENCIAL</text>
  </g>

  <!-- ===== CONECTORES (APENAS ESTES com traçado animado) ===== -->
  <g class="stroke" stroke-width="3">
    <line x1="750" y1="170" x2="750" y2="230" class="drawn" style="--delay:0s"/>
    <line x1="100" y1="230" x2="1400" y2="230" class="drawn" style="--delay:.12s"/>
    <line x1="290"  y1="230" x2="290"  y2="280" class="drawn" style="--delay:.24s"/>
    <line x1="750"  y1="230" x2="750"  y2="280" class="drawn" style="--delay:.30s"/>
    <line x1="1210" y1="230" x2="1210" y2="280" class="drawn" style="--delay:.36s"/>
  </g>

  <!-- ===== PAINEL 1: AMOSTRAGEM ===== -->
  <g>
    <rect x="100" y="280" width="380" height="380" class="panel stroke"/>
    <text x="290" y="330" class="label">AMOSTRAGEM</text>

    <rect x="150" y="370" width="280" height="200" class="stroke" rx="8"/>
    <g fill="#111827" transform="translate(165,385)">
      <use href="#dot-row" y="0"/>
      <use href="#dot-row" y="35"/>
      <use href="#dot-row" y="70"/>
      <use href="#dot-row" y="105"/>
      <use href="#dot-row" y="140"/>
      <use href="#dot-row" y="175"/>
    </g>

    <g class="scanner" transform="translate(0,10)">
      <rect x="160" y="380" width="120" height="120" class="stroke" rx="10"/>
      <circle class="sample-dot" cx="185" cy="405" r="6" style="animation-delay:.20s"/>
      <circle class="sample-dot" cx="205" cy="440" r="6" style="animation-delay:.40s"/>
      <circle class="sample-dot" cx="240" cy="470" r="6" style="animation-delay:.60s"/>
      <circle class="sample-dot" cx="265" cy="420" r="6" style="animation-delay:.80s"/>
      <circle class="sample-dot" cx="245" cy="390" r="6" style="animation-delay:1.00s"/>
    </g>
  </g>

  <!-- ===== PAINEL 2: INTERVALO DE CONFIANÇA ===== -->
  <g>
    <rect x="560" y="280" width="380" height="380" class="panel stroke"/>
    <text x="750" y="325" class="label">INTERVALO</text>
    <text x="750" y="360" class="label">DE CONFIANÇA</text>

    <line x1="620" y1="570" x2="880" y2="570" class="stroke"/>
    <line x1="660" y1="555" x2="660" y2="585" class="stroke"/>
    <line x1="750" y1="555" x2="750" y2="585" class="stroke"/>
    <line x1="840" y1="555" x2="840" y2="585" class="stroke"/>

    <g>
      <line x1="750" y1="530" x2="750" y2="610" class="stroke"/>
      <circle cx="750" cy="570" r="6" fill="#111827"/>
      <text x="750" y="520" font-size="26" text-anchor="middle">x̄</text>
    </g>

    <g class="ic">
      <rect x="700" y="566" width="100" height="8" fill="#111827" class="icbar"/>
      <line x1="700" y1="555" x2="700" y2="585" class="stroke"/>
      <line x1="800" y1="555" x2="800" y2="585" class="stroke"/>
      <text x="750" y="540" font-size="20" text-anchor="middle">IC (95%)</text>
    </g>
  </g>

  <!-- ===== PAINEL 3: TESTE DE HIPÓTESE ===== -->
  <g>
    <rect x="1020" y="280" width="380" height="380" class="panel stroke"/>
    <text x="1210" y="330" class="label">TESTE DE HIPÓTESE</text>

    <!-- curva ampliada -->
    <g transform="translate(985,370) scale(1.5)">
      <line x1="30" y1="120" x2="270" y2="120" stroke="#111827" stroke-width="2"/>
      <path d="M212.625 91.097656 L212.625 120 L270 120 C246.90468 120 228.22874 107.37564 212.625 91.097656 Z"
            fill="#111827" fill-opacity="0.5" class="crit-zone"/>
      <path d="M87.078125 91.408203 C71.534753 107.53606 52.948378 120 30 120 L87.078125 120 Z"
            fill="#111827" fill-opacity="0.5" class="crit-zone"/>
      <path d="M30,120 C95,120 125,20 150,20 C175,20 205,120 270,120"
            stroke="#111827" stroke-width="3" fill="none" class="bell-path"/>
      <line x1="150" y1="20" x2="150" y2="120" stroke="#111827" stroke-width="1.2"/>
      <text x="150" y="135" text-anchor="middle" font-size="18">μ₀</text>
    </g>

    <text x="1210" y="630" font-size="22" text-anchor="middle">comparar p com α</text>
  </g>
</svg>
