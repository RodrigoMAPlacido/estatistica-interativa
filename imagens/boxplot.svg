<!-- =========================================================
   BOXPLOT — CONCEITO (CSS-only) | PALETA PADRÃO DO PROJETO
   Dados (n=12): 9, 10, 10, 11, 12, 12, 13, 13, 14, 15, 16, 25

   Quartis por P_{Qk}=k·n/4 com ponto médio quando P é inteiro:
   Q1=(x3+x4)/2=10,5 | Q2=(x6+x7)/2=12,5 | Q3=(x9+x10)/2=14,5

   Tukey (outliers):
   IQR = Q3-Q1 = 4,0
   fences = [Q1-1,5·IQR, Q3+1,5·IQR] = [4,5 ; 20,5]
   ⇒ 25 é outlier; bigode superior termina em 16.
   ========================================================= -->
<svg viewBox="0 0 1550 744" xmlns="http://www.w3.org/2000/svg"
     role="img" aria-labelledby="title desc">
  <title id="title">Boxplot: quartis, mediana e bigodes</title>
  <desc id="desc">
    A animação mostra as 12 observações em ordem crescente, destaca 25%, 50% e 75% e marca Q1, Q2 e Q3.
    Depois, mostra o boxplot com regra de Tukey (1,5·IQR): bigodes até o último valor não-outlier e outlier como ponto.
  </desc>

  <defs>
    <style>
      :root{
        --ink:#111827;
        --ink-soft:#64748b;
        --grid:#e5e7eb;
        --accent:#64748b;
        --font:"et-book","ETBook","Georgia",serif;

        --cycle:15s;
        --ease:ease-in-out;
      }

      text{ font-family:var(--font); fill:var(--ink); user-select:none; }

      .u-stroke{
        stroke:var(--ink);
        fill:none;
        stroke-linecap:round;
        stroke-linejoin:round;
      }

      .label{
        font-size:46px;
        font-weight:600;
        text-anchor:middle;
      }
      .small{ font-size:32px; text-anchor:middle; fill:var(--ink-soft); }

      .axis{ stroke-width:2; }
      .grid{
        stroke:var(--grid);
        stroke-width:1;
        stroke-dasharray:6 8;
      }

      .tick-label{ font-size:22px; fill:var(--ink-soft); }
      .xval{ font-size:22px; fill:var(--ink-soft); text-anchor:middle; }

      /* ===================== ELEMENTOS BASE ===================== */
      .dot{ fill:var(--ink); opacity:.9; }
      .dot.soft{ opacity:.55; }

      .seg{ fill:var(--accent); opacity:0; }

      .qline{
        stroke:var(--accent);
        stroke-width:4;
        opacity:0;
      }
      .q1{ stroke-dasharray:10 10; }
      .q2{ stroke-dasharray:none; }
      .q3{ stroke-dasharray:2 10; }

      .qlab{
        font-size:28px;
        font-weight:600;
        fill:var(--ink);
        opacity:0;
      }
      .qlab .sub{ font-size:18px; baseline-shift:sub; }
      .qlab .hint{ font-size:22px; fill:var(--ink-soft); font-weight:500; }

      .pct{ font-size:22px; fill:var(--ink-soft); text-anchor:middle; opacity:0; }

      /* ===================== BOXPLOT (Tukey) ===================== */
      .bp{ opacity:0; }

      .bp-line{ stroke:var(--ink); stroke-width:3.2; fill:none; }
      .bp-box{ fill:#fff; stroke:var(--ink); stroke-width:3.2; }

      .bp-cap{ stroke:var(--ink); stroke-width:3.2; }
      .bp-cap.minmax{ stroke-width:4.0; }
      .bp-cap.q1{ stroke:var(--accent); stroke-dasharray:10 10; }
      .bp-cap.q2{ stroke:var(--ink); }
      .bp-cap.q3{ stroke:var(--accent); stroke-dasharray:2 10; }

      .bp-text{ font-size:22px; font-weight:700; fill:var(--ink); }
      .bp-sub{ font-size:20px; font-weight:600; fill:var(--ink-soft); }

      /* rótulos compactos do canto direito (evita sobreposição) */
      .bp-right-title{ font-size:20px; font-weight:700; fill:var(--ink); }
      .bp-right-sub{ font-size:18px; font-weight:600; fill:var(--ink-soft); }

      .outlier{
        fill:#fff;
        stroke:var(--ink);
        stroke-width:3.2;
      }
      .outlier-lab{
        font-size:18px;
        fill:var(--ink-soft);
        font-weight:700;
        text-anchor:middle;
      }

      /* ===================== NOTA FINAL ===================== */
      .note-box{
        fill:#fff;
        stroke:var(--grid);
        stroke-width:2;
      }
      .note-text{ font-size:26px; fill:var(--ink); }
      .note-text .strong{ font-weight:700; }
      .note-text .soft{ fill:var(--ink-soft); }

      /* ===================== ANIMAÇÕES (só opacity; robusto) ===================== */
      .a-dots{ animation:dotsIn var(--cycle) var(--ease) infinite; }
      @keyframes dotsIn{
        0%,7%{ opacity:0; }
        13%,50%{ opacity:1; }
        55%,100%{ opacity:.18; }
      }

      .a-seg25{ animation:seg25 var(--cycle) var(--ease) infinite; }
      .a-seg50{ animation:seg50 var(--cycle) var(--ease) infinite; }
      .a-seg75{ animation:seg75 var(--cycle) var(--ease) infinite; }
      @keyframes seg25{ 0%,13%{opacity:0} 21%,50%{opacity:.18} 55%,100%{opacity:0} }
      @keyframes seg50{ 0%,23%{opacity:0} 31%,50%{opacity:.16} 55%,100%{opacity:0} }
      @keyframes seg75{ 0%,33%{opacity:0} 41%,50%{opacity:.14} 55%,100%{opacity:0} }

      .a-q1{ animation:q1On var(--cycle) var(--ease) infinite; }
      .a-q2{ animation:q2On var(--cycle) var(--ease) infinite; }
      .a-q3{ animation:q3On var(--cycle) var(--ease) infinite; }
      @keyframes q1On{ 0%,22%{opacity:0} 30%,50%{opacity:1} 55%,100%{opacity:0} }
      @keyframes q2On{ 0%,32%{opacity:0} 40%,50%{opacity:1} 55%,100%{opacity:0} }
      @keyframes q3On{ 0%,42%{opacity:0} 50%,50%{opacity:1} 55%,100%{opacity:0} }

      .a-q1t{ animation:q1T var(--cycle) var(--ease) infinite; }
      .a-q2t{ animation:q2T var(--cycle) var(--ease) infinite; }
      .a-q3t{ animation:q3T var(--cycle) var(--ease) infinite; }
      @keyframes q1T{ 0%,24%{opacity:0} 32%,50%{opacity:1} 55%,100%{opacity:0} }
      @keyframes q2T{ 0%,34%{opacity:0} 42%,50%{opacity:1} 55%,100%{opacity:0} }
      @keyframes q3T{ 0%,44%{opacity:0} 52%,50%{opacity:1} 55%,100%{opacity:0} }

      .a-p25{ animation:p25 var(--cycle) var(--ease) infinite; }
      .a-p50{ animation:p50 var(--cycle) var(--ease) infinite; }
      .a-p75{ animation:p75 var(--cycle) var(--ease) infinite; }
      @keyframes p25{ 0%,24%{opacity:0} 28%,50%{opacity:1} 55%,100%{opacity:0} }
      @keyframes p50{ 0%,34%{opacity:0} 38%,50%{opacity:1} 55%,100%{opacity:0} }
      @keyframes p75{ 0%,44%{opacity:0} 48%,50%{opacity:1} 55%,100%{opacity:0} }

      .a-extremes{ animation:extOff var(--cycle) var(--ease) infinite; }
      @keyframes extOff{
        0%,52%{ opacity:1; }
        58%,100%{ opacity:0; }
      }

      .a-bp{ animation:bpOn var(--cycle) var(--ease) infinite; }
      @keyframes bpOn{
        0%,58%{ opacity:0; }
        64%,100%{ opacity:1; }
      }

      .a-note{ animation:noteOn var(--cycle) var(--ease) infinite; }
      @keyframes noteOn{
        0%,65%{ opacity:0; }
        70%,100%{ opacity:1; }
      }

      @media (prefers-reduced-motion:reduce){
        .a-dots,.a-seg25,.a-seg50,.a-seg75,.a-q1,.a-q2,.a-q3,.a-q1t,.a-q2t,.a-q3t,
        .a-p25,.a-p50,.a-p75,.a-extremes,.a-bp,.a-note{ animation:none; }

        .seg{ opacity:.14; }
        .qline,.qlab{ opacity:1; }
        .pct{ opacity:1; }
        .bp{ opacity:1; }
        .a-extremes{ opacity:0; }
        .a-note{ opacity:1; }
      }
    </style>
  </defs>

  <g transform="translate(85,92)">
    <!-- painel -->
    <rect x="0" y="0" width="1380" height="560" rx="22" ry="22" class="u-stroke"/>

    <text x="690" y="55" class="label">Boxplot</text>
    <text x="690" y="110" class="small">Dados ordenados (n = 12) → Q1 = 10,5 • Q2 = 12,5 • Q3 = 14,5</text>

    <!-- =======================================================
         ÁREA DO GRÁFICO
         ======================================================= -->
    <g transform="translate(110,150)">

      <g class="grid">
        <line x1="0" y1="90"  x2="1160" y2="90"/>
        <line x1="0" y1="150" x2="1160" y2="150"/>
        <line x1="0" y1="210" x2="1160" y2="210"/>
      </g>

      <g class="u-stroke axis">
        <line x1="0" y1="150" x2="1160" y2="150"/>
      </g>

      <g class="u-stroke" style="stroke-width:2">
        <line x1="0"    y1="140" x2="0"    y2="160"/>
        <line x1="290"  y1="140" x2="290"  y2="160"/>
        <line x1="580"  y1="140" x2="580"  y2="160"/>
        <line x1="870"  y1="140" x2="870"  y2="160"/>
        <line x1="1160" y1="140" x2="1160" y2="160"/>
      </g>

      <!-- extremos observados (somem antes do boxplot) -->
      <g class="a-extremes">
        <g class="tick-label">
          <text x="48.3"   y="190" text-anchor="middle">mín</text>
          <text x="1111.7" y="190" text-anchor="middle">máx</text>
        </g>
        <text class="xval" x="48.3"   y="214">9</text>
        <text class="xval" x="1111.7" y="214">25</text>

        <circle class="dot" cx="48.3"   cy="150" r="7"/>
        <circle class="dot" cx="1111.7" cy="150" r="7"/>
      </g>

      <!-- % -->
      <g class="pct">
        <text class="a-p25" x="290" y="283">25%</text>
        <text class="a-p50" x="580" y="283">50%</text>
        <text class="a-p75" x="870" y="283">75%</text>
      </g>

      <rect class="seg a-seg25" x="0" y="120" width="290" height="60"/>
      <rect class="seg a-seg50" x="0" y="120" width="580" height="60"/>
      <rect class="seg a-seg75" x="0" y="120" width="870" height="60"/>

      <!-- pontos internos -->
      <g class="a-dots">
        <circle class="dot soft" cx="145.0"  cy="150" r="7"/><text class="xval" x="145.0"  y="122">10</text>
        <circle class="dot"      cx="241.7"  cy="150" r="7"/><text class="xval" x="241.7"  y="122">10</text>
        <circle class="dot soft" cx="338.3"  cy="150" r="7"/><text class="xval" x="338.3"  y="122">11</text>
        <circle class="dot"      cx="435.0"  cy="150" r="7"/><text class="xval" x="435.0"  y="122">12</text>
        <circle class="dot soft" cx="531.7"  cy="150" r="7"/><text class="xval" x="531.7"  y="122">12</text>
        <circle class="dot"      cx="628.3"  cy="150" r="7"/><text class="xval" x="628.3"  y="122">13</text>
        <circle class="dot soft" cx="725.0"  cy="150" r="7"/><text class="xval" x="725.0"  y="122">13</text>
        <circle class="dot"      cx="821.7"  cy="150" r="7"/><text class="xval" x="821.7"  y="122">14</text>
        <circle class="dot soft" cx="918.3"  cy="150" r="7"/><text class="xval" x="918.3"  y="122">15</text>
        <circle class="dot"      cx="1015.0" cy="150" r="7"/><text class="xval" x="1015.0" y="122">16</text>
      </g>

      <!-- quartis -->
      <line class="qline q1 a-q1" x1="290" y1="40" x2="290" y2="250"/>
      <line class="qline q2 a-q2" x1="580" y1="40" x2="580" y2="250"/>
      <line class="qline q3 a-q3" x1="870" y1="40" x2="870" y2="250"/>

      <text class="qlab a-q1t" x="290" y="28" text-anchor="middle">
        Q<tspan class="sub">1</tspan><tspan class="hint"> = 10,5</tspan>
      </text>
      <text class="qlab a-q2t" x="580" y="28" text-anchor="middle">
        Q<tspan class="sub">2</tspan><tspan class="hint"> (mediana) = 12,5</tspan>
      </text>
      <text class="qlab a-q3t" x="870" y="28" text-anchor="middle">
        Q<tspan class="sub">3</tspan><tspan class="hint"> = 14,5</tspan>
      </text>

      <!-- BOXPLOT (Tukey) -->
      <g class="bp a-bp">
        <!-- bigodes -->
        <line x1="48.3" y1="150" x2="290" y2="150" class="bp-line"/>
        <line x1="870" y1="150" x2="1015.0" y2="150" class="bp-line"/>

        <!-- caps -->
        <line x1="48.3"   y1="95" x2="48.3"   y2="205" class="bp-cap minmax"/>
        <line x1="1015.0" y1="95" x2="1015.0" y2="205" class="bp-cap minmax"/>

        <!-- caixa -->
        <rect x="290" y="105" width="580" height="90" rx="10" ry="10" class="bp-box"/>

        <!-- Q1/Q2/Q3 -->
        <line x1="290" y1="95" x2="290" y2="205" class="bp-cap q1"/>
        <line x1="580" y1="95" x2="580" y2="205" class="bp-cap q2" style="stroke-width:4.2"/>
        <line x1="870" y1="95" x2="870" y2="205" class="bp-cap q3"/>

        <!-- outlier (25) -->
        <circle cx="1111.7" cy="150" r="8" class="outlier"/>
        <!-- joga o rótulo do outlier um pouco pra baixo pra não competir com "máx" -->
        <text x="1111.7" y="178" class="outlier-lab">outlier</text>

        <!-- rótulos (ajustados no canto direito) -->
        <text x="48.3" y="40" text-anchor="middle" class="bp-text">Limite</text>
        <text x="48.3" y="65" text-anchor="middle" class="bp-text">Inferior</text>
        <text x="48.3" y="85" text-anchor="middle" class="bp-sub">9</text>

        <text x="290" y="58" text-anchor="middle" class="bp-text">Quartil Inf.</text>
        <text x="290" y="84" text-anchor="middle" class="bp-sub">Q<tspan baseline-shift="sub" font-size="16">1</tspan> = 10,5</text>

        <text x="580" y="58" text-anchor="middle" class="bp-text">Mediana</text>
        <text x="580" y="84" text-anchor="middle" class="bp-sub">Q<tspan baseline-shift="sub" font-size="16">2</tspan> = 12,5</text>

        <text x="870" y="52" text-anchor="middle" class="bp-text">Quartil Sup</text>
        <text x="870" y="78" text-anchor="middle" class="bp-sub">Q<tspan baseline-shift="sub" font-size="16">3</tspan> = 14,5</text>

        <!-- ✅ Máx (sem outlier) em 2 linhas (reduz largura e evita sobreposição com Q3) -->
        <text x="1015.0" y="40" text-anchor="middle" class="bp-text">Limite </text>
        <text x="1015.0" y="65" text-anchor="middle" class="bp-text">Superior</text>
        <text x="1015.0" y="90" text-anchor="middle" class="bp-sub">16</text>

        <!-- valor do outlier (25) sobe um pouco e fica separado do rótulo -->
        <text x="1111.7" y="92" text-anchor="middle" class="bp-sub">25</text>

        <!-- vocabulário -->
        <text x="169" y="232" text-anchor="middle" class="bp-sub">whisker = bigode</text>
        <text x="945" y="232" text-anchor="middle" class="bp-sub">whisker = bigode</text>
        <text x="580" y="232" text-anchor="middle" class="bp-sub">
          box = caixa (Q<tspan baseline-shift="sub" font-size="16">1</tspan>–Q<tspan baseline-shift="sub" font-size="16">3</tspan>)
        </text>
      </g>

    </g><!-- /área do gráfico -->

    <!-- =======================================================
         NOTA FINAL (sem sobrepor) — dentro do painel
         ======================================================= -->
    <g transform="translate(110,445)" class="a-note">
      <rect class="note-box" x="0" y="0" width="1160" height="100" rx="18" ry="18"/>

      <text class="note-text" x="580" y="32" text-anchor="middle">
        <tspan class="strong">Quartis</tspan> são <tspan class="strong">percentuais de observações</tspan>
        <tspan class="soft"> (25%, 50%, 75%).</tspan>
      </text>

      <text class="note-text" x="580" y="60" text-anchor="middle" style="font-size:22px;">
        Dados (ordem crescente): <tspan class="strong">9, 10, 10, 11, 12, 12, 13, 13, 14, 15, 16, 25</tspan>.
      </text>

      <text class="note-text" x="580" y="92" text-anchor="middle" style="font-size:22px;">
        <tspan class="soft">25 é outlier por 1,5·IQR (Tukey); bigode superior termina em 16.</tspan>
      </text>
    </g>

  </g>
</svg>
