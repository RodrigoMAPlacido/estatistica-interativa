<!-- ===========================================
   MEDIANA EM DADOS AGRUPADOS SEM INTERVALOS
   Painel esquerdo: variável ordinal (satisfação)
   Painel direito: variável discreta (número de filhos)
   =========================================== -->
<svg viewBox="0 0 1200 600" xmlns="http://www.w3.org/2000/svg"
     role="img" aria-labelledby="title desc">
  <title id="title">Mediana em dados agrupados sem intervalos de classe</title>
  <desc id="desc">
    Dois exemplos de mediana com dados em tabela de frequências, sem intervalos de classe.
    À esquerda, categorias ordinais de satisfação; à direita, número de filhos (variável discreta).
    Em cada tabela, uma animação percorre as linhas e destaca a categoria/valor cuja frequência
    acumulada ultrapassa a metade do total de observações, identificando a mediana.
  </desc>

  <defs>
    <style>
      :root{
        --ink:#111827;
        --font:"et-book","ETBook","Georgia",serif;
        --cycle:8s;
        --ease:ease-in-out;
      }

      text{
        font-family:var(--font);
        fill:var(--ink);
        user-select:none;
      }
      .u-stroke{
        stroke:var(--ink);
        fill:none;
        stroke-linecap:round;
        stroke-linejoin:round;
      }
      .u-panel{
        stroke-width:2;
        rx:12;
      }
      .label{
        font-size:34px;
        font-weight:600;
        text-anchor:middle;
      }
      .small{ font-size:18px; }
      .tiny{ font-size:16px; }

      .row-line{ stroke-width:1; }

      /* animação que percorre as linhas */
      @keyframes rowHi{
        0%,10%{ opacity:0; }
        15%,25%{ opacity:.18; }
        30%,100%{ opacity:0; }
      }
      .row-hi{
        fill:var(--ink);
        opacity:0;
      }
      .r1{ animation:rowHi var(--cycle) var(--ease) infinite 0s; }
      .r2{ animation:rowHi var(--cycle) var(--ease) infinite .7s; }
      .r3{ animation:rowHi var(--cycle) var(--ease) infinite 1.4s; }
      .r4{ animation:rowHi var(--cycle) var(--ease) infinite 2.1s; }
      .r5{ animation:rowHi var(--cycle) var(--ease) infinite 2.8s; }

      /* destaque da linha mediana */
      @keyframes medPulse{
        0%,35%,100%{
          opacity:.14;
          transform:scale(1);
        }
        45%,65%{
          opacity:.32;
          transform:scale(1.02);
        }
      }
      .med-hi{
        fill:var(--ink);
        opacity:.14;
        transform-box:fill-box;
        transform-origin:center;
        animation:medPulse var(--cycle) var(--ease) infinite 2.8s;
      }

      @media (prefers-reduced-motion:reduce){
        .row-hi{
          animation:none;
          opacity:.12;
        }
        .med-hi{
          animation:none;
          opacity:.28;
        }
      }
    </style>
  </defs>

  <!-- ===========================================
       PAINEL ESQUERDO — VARIÁVEL ORDINAL
       Frequências: 2, 4, 6, 3 (N = 15)
       Acumuladas: 2, 6, 12, 15 → mediana em "Bom"
       =========================================== -->
  <g id="panel-ordinal">
    <rect x="20" y="20" width="540" height="510" class="u-panel u-stroke"/>

    <!-- Cabeçalho -->
    <g class="p-header">
      <text x="300" y="60" class="label">Mediana — variável ordinal</text>
      <text x="300" y="85" class="small" text-anchor="middle">
        Nível de satisfação: distribuição de frequências
      </text>
    </g>

    <!-- Corpo: tabela -->
    <g class="p-body" transform="scale(1.15) translate(-50,20)">
      <line x1="80" y1="130" x2="520" y2="130" class="u-stroke row-line"/>

      <!-- colunas -->
      <g class="small" font-weight="600">
        <text x="95"  y="118">Categoria</text>
        <text x="360" y="118" text-anchor="end">Frequência</text>
        <text x="515" y="100" text-anchor="end">Frequência </text>
        <text x="515" y="118" text-anchor="end">acumulada</text>
      </g>

      <!-- linhas -->
      <g class="u-stroke row-line">
        <line x1="80" y1="170" x2="520" y2="170"/>
        <line x1="80" y1="210" x2="520" y2="210"/>
        <line x1="80" y1="250" x2="520" y2="250"/>
        <line x1="80" y1="290" x2="520" y2="290"/>
        <line x1="80" y1="330" x2="520" y2="330"/>
      </g>

      <!-- faixas animadas -->
      <rect x="80" y="135" width="440" height="35" class="row-hi r1"/>
      <rect x="80" y="175" width="440" height="35" class="row-hi r2"/>
      <rect x="80" y="215" width="440" height="35" class="row-hi r3"/>
      <rect x="80" y="255" width="440" height="35" class="row-hi r4"/>

      <!-- linha mediana: "Bom" (3ª linha, F = 12 ≥ 7,5) -->
      <rect x="80" y="215" width="440" height="35" class="med-hi"/>

      <!-- dados -->
      <g class="small">
        <!-- Ruim -->
        <text x="95"  y="162">Ruim</text>
        <text x="320" y="162" text-anchor="end">2</text>
        <text x="470" y="162" text-anchor="end">2</text>

        <!-- Regular -->
        <text x="95"  y="202">Regular</text>
        <text x="320" y="202" text-anchor="end">4</text>
        <text x="470" y="202" text-anchor="end">6</text>

        <!-- Bom (mediana) -->
        <text x="95"  y="242">Bom</text>
        <text x="320" y="242" text-anchor="end">6</text>
        <text x="470" y="242" text-anchor="end">12</text>

        <!-- Ótimo -->
        <text x="95"  y="282">Ótimo</text>
        <text x="320" y="282" text-anchor="end">3</text>
        <text x="470" y="282" text-anchor="end">15</text>

        <!-- Total -->
        <text x="95"  y="322" font-weight="600">Total</text>
        <text x="320" y="322" text-anchor="end" font-weight="600">15</text>
        <text x="470" y="322" text-anchor="end" font-weight="600">15</text>
      </g>

    </g>

    <!-- Rodapé -->
    <g class="p-footer" transform="translate(-10,20)">
      <text x="300" y="430" class="tiny" text-anchor="middle">
        Em variáveis ordinais, a mediana é a categoria que contém a posição 
      </text>
      <text x="300" y="447" class="tiny" text-anchor="middle">
        central, identificada pela primeira frequência acumulada que
      </text>
      <text x="300" y="465" class="tiny" text-anchor="middle">
        ultrapassa N/2.
      </text>
    </g>
  </g>

  <!-- ===========================================
       PAINEL DIREITO — VARIÁVEL DISCRETA
       Frequências: 3, 5, 6, 4, 2 (N = 20)
       Acumuladas: 3, 8, 14, 18, 20 → mediana em x = 2
       =========================================== -->
  <g id="panel-discrete" transform="translate(600,0)">
    <rect x="20" y="20" width="540" height="510" class="u-panel u-stroke"/>

    <!-- Cabeçalho -->
    <g class="p-header">
      <text x="300" y="60" class="label">Mediana — variável discreta</text>
      <text x="300" y="85" class="small" text-anchor="middle">
        Número de filhos: distribuição de frequências
      </text>
    </g>

    <!-- Corpo: tabela -->
    <g class="p-body" transform="scale(1.15) translate(-50,20)">
      <line x1="80" y1="130" x2="520" y2="130" class="u-stroke row-line"/>

      <g class="small" font-weight="600">
        <text x="90"  y="100">Número</text>
        <text x="90"  y="118">de filhos</text>
        <text x="350" y="118" text-anchor="end">Frequência</text>
        <text x="515" y="100" text-anchor="end">Frequência </text>
        <text x="515" y="118" text-anchor="end">acumulada</text>
      </g>

      <g class="u-stroke row-line">
        <line x1="80" y1="170" x2="520" y2="170"/>
        <line x1="80" y1="210" x2="520" y2="210"/>
        <line x1="80" y1="250" x2="520" y2="250"/>
        <line x1="80" y1="290" x2="520" y2="290"/>
        <line x1="80" y1="330" x2="520" y2="330"/>
        <line x1="80" y1="370" x2="520" y2="370"/>

      </g>

      <!-- faixas animadas -->
      <rect x="80" y="135" width="440" height="35" class="row-hi r1"/>
      <rect x="80" y="175" width="440" height="35" class="row-hi r2"/>
      <rect x="80" y="215" width="440" height="35" class="row-hi r3"/>
      <rect x="80" y="255" width="440" height="35" class="row-hi r4"/>
      <rect x="80" y="295" width="440" height="35" class="row-hi r5"/>

      <!-- linha mediana: x = 2 (F = 14 ≥ 10) -->
      <rect x="80" y="215" width="440" height="35" class="med-hi"/>

      <!-- dados -->
      <g class="small">
        <!-- 0 filhos -->
        <text x="95"  y="162">0</text>
        <text x="320" y="162" text-anchor="end">3</text>
        <text x="470" y="162" text-anchor="end">3</text>

        <!-- 1 filho -->
        <text x="95"  y="202">1</text>
        <text x="320" y="202" text-anchor="end">5</text>
        <text x="470" y="202" text-anchor="end">8</text>

        <!-- 2 filhos (mediana) -->
        <text x="95"  y="242">2</text>
        <text x="320" y="242" text-anchor="end">6</text>
        <text x="470" y="242" text-anchor="end">14</text>

        <!-- 3 filhos -->
        <text x="95"  y="282">3</text>
        <text x="320" y="282" text-anchor="end">4</text>
        <text x="470" y="282" text-anchor="end">18</text>

        <!-- 4 filhos -->
        <text x="95"  y="322">4</text>
        <text x="320" y="322" text-anchor="end">2</text>
        <text x="470" y="322" text-anchor="end">20</text>

                <!-- Total -->
        <text x="95"  y="362" font-weight="600">Total</text>
        <text x="320" y="362" text-anchor="end" font-weight="600">20</text>
        <text x="470" y="362" text-anchor="end" font-weight="600">20</text>
      </g>

    </g>

    <!-- Rodapé -->
    <g class="p-footer" transform="translate(0,30)">
      <text x="300" y="445" class="tiny" text-anchor="middle">
        Para dados discretos sem intervalos, a mediana é o menor valor
      </text>
      <text x="300" y="465" class="tiny" text-anchor="middle">
        cuja frequência acumulada ultrapassa N/2.
      </text>
    </g>
  </g>
</svg>
