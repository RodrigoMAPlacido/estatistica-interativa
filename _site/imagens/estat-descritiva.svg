<!-- ===========================================
   ESTATÍSTICA DESCRITIVA — padrão unificado (u-*/a-*)
   =========================================== -->
<svg viewBox="0 0 1500 750" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="title desc">
  <title id="title">Estatística Descritiva — animação didática</title>
  <desc id="desc">
    Título fixo. Três painéis: 1) tabela com linhas destacadas; 2) histograma com barras crescendo;
    3) boxplot sendo desenhado e marcadores de média/mediana pulsando. Apenas o tronco e ramos têm traçado animado.
  </desc>

  <defs>
    <style>
      :root{
        --ink:#111827;
        --font:"et-book","ETBook","Georgia",serif;
        --cycle:8s;
        --ease:ease-in-out;
        --dash:4000;     /* maior que qualquer segmento */
      }

      /* ===== Base / utilitários ===== */
      text{ font-family:var(--font); fill:var(--ink); user-select:none; }
      .u-stroke{ stroke:var(--ink); fill:none; stroke-linecap:round; stroke-linejoin:round; }
      .u-box{ stroke-width:3; rx:15; }
      .u-panel{ stroke-width:2; rx:12; }
      .u-center{ text-anchor:middle; }

      .title-text{ font-weight:700; font-size:45px; text-anchor:middle; }
      .label{ font-size:36px; font-weight:500; text-anchor:middle; }

      /* ===== Traçado tipo tronco/ramo (apenas conectores) ===== */
      @keyframes k-drawLine{
        0%   { stroke-dashoffset:var(--dash); opacity:0; }
        10%  { opacity:1; }
        42%  { stroke-dashoffset:0;          opacity:1; }
        58%  { stroke-dashoffset:0;          opacity:1; }
        90%  { stroke-dashoffset:var(--dash); opacity:1; }
        100% { stroke-dashoffset:var(--dash); opacity:0; }
      }
      .a-draw{
        stroke-dasharray:var(--dash);
        stroke-dashoffset:var(--dash);
        animation:k-drawLine var(--cycle) var(--ease) infinite both;
        animation-delay:var(--delay,0s);
      }

      /* ===== Tabela ===== */
      @keyframes rowHighlight{ 0%,10%{opacity:0} 15%,25%{opacity:.2} 30%,100%{opacity:0} }
      .row-highlight{ fill:var(--ink); opacity:0 }
      .row-1{ animation:rowHighlight 5s ease-in-out infinite }
      .row-2{ animation:rowHighlight 5s ease-in-out infinite 1s }
      .row-3{ animation:rowHighlight 5s ease-in-out infinite 2s }
      .row-4{ animation:rowHighlight 5s ease-in-out infinite 3s }
      .row-5{ animation:rowHighlight 5s ease-in-out infinite 4s }

      /* ===== Histograma ===== */
      @keyframes barGrow{
        0%{ transform:scaleY(0); transform-origin:bottom }
        20%,80%{ transform:scaleY(1); transform-origin:bottom }
        100%{ transform:scaleY(0); transform-origin:bottom }
      }
      .bar{ fill:var(--ink); transform-origin:bottom; transform:scaleY(0) }
      .bar-1{ animation:barGrow 6s ease-in-out infinite 0s }
      .bar-2{ animation:barGrow 6s ease-in-out infinite .3s }
      .bar-3{ animation:barGrow 6s ease-in-out infinite .6s }
      .bar-4{ animation:barGrow 6s ease-in-out infinite .9s }
      .bar-5{ animation:barGrow 6s ease-in-out infinite 1.2s }
      .bar-6{ animation:barGrow 6s ease-in-out infinite 1.5s }

      /* ===== Boxplot ===== */
      @keyframes drawPath{ 0%{stroke-dashoffset:1000} 30%,70%{stroke-dashoffset:0} 100%{stroke-dashoffset:1000} }
      .draw-animated{ stroke-dasharray:1000; stroke-dashoffset:1000; animation:drawPath 6s ease-in-out infinite }
      @keyframes pulse{ 0%,100%{opacity:.3} 50%{opacity:1} }
      .pulse{ animation:pulse 2.5s ease-in-out infinite }
      .pulse-delayed{ animation:pulse 2.5s ease-in-out infinite 1.25s }

      /* ===== Acessibilidade ===== */
      @media (prefers-reduced-motion:reduce){
        .a-draw{ animation:none; stroke-dashoffset:0; opacity:1 }
        .draw-animated{ animation:none; stroke-dashoffset:0 }
        .row-highlight{ animation:none; opacity:.12 }
        .pulse,.pulse-delayed{ animation:none; opacity:1 }
      }
    </style>
  </defs>

  <!-- TÍTULO -->
  <g id="main-title">
    <rect x="520" y="60" width="460" height="110" class="u-stroke u-box"/>
    <text x="750" y="110" class="title-text">ESTATÍSTICA </text>
    <text x="750" y="155" class="title-text">DESCRITIVA</text>
  </g>

  <!-- CONECTORES (somente estes com traçado animado) -->
  <g id="connectors" class="u-stroke" stroke-width="3">
    <!-- tronco -->
    <line x1="750" y1="170" x2="750" y2="240" class="a-draw" style="--delay:0s"/>
    <!-- barra horizontal -->
    <line x1="100" y1="240" x2="1400" y2="240" class="a-draw" style="--delay:.12s"/>
    <!-- ramos para os três painéis -->
    <line x1="290"  y1="240" x2="290"  y2="280" class="a-draw" style="--delay:.24s"/>
    <line x1="750"  y1="240" x2="750"  y2="280" class="a-draw" style="--delay:.30s"/>
    <line x1="1210" y1="240" x2="1210" y2="280" class="a-draw" style="--delay:.36s"/>
  </g>

  <!-- PAINEL 1: TABELA -->
  <g id="panel-table">
    <rect x="100" y="280" width="380" height="380" class="u-panel u-stroke"/>
    <text x="290" y="335" class="label">TABELA</text>

    <!-- Cabeçalho -->
    <line x1="140" y1="370" x2="440" y2="370" class="u-stroke" style="stroke-width:2"/>
    <g font-size="20" font-weight="600">
      <text x="160" y="363">Variável</text>
      <text x="310" y="363">Freq.</text>
      <text x="425" y="363" text-anchor="end">%</text>
    </g>

    <!-- Linhas -->
    <g class="u-stroke">
      <line x1="140" y1="405" x2="440" y2="405"/>
      <line x1="140" y1="445" x2="440" y2="445"/>
      <line x1="140" y1="485" x2="440" y2="485"/>
      <line x1="140" y1="525" x2="440" y2="525"/>
      <line x1="140" y1="565" x2="440" y2="565"/>
    </g>

    <!-- Highlights -->
    <rect x="140" y="380" width="300" height="30" class="row-highlight row-1"/>
    <rect x="140" y="420" width="300" height="30" class="row-highlight row-2"/>
    <rect x="140" y="460" width="300" height="30" class="row-highlight row-3"/>
    <rect x="140" y="500" width="300" height="30" class="row-highlight row-4"/>
    <rect x="140" y="540" width="300" height="30" class="row-highlight row-5"/>

    <!-- Dados -->
    <g font-size="19">
      <text x="150" y="400">Categoria A</text><text x="330" y="400" text-anchor="end">40</text><text x="430" y="400" text-anchor="end">20%</text>
      <text x="150" y="440">Categoria B</text><text x="330" y="440" text-anchor="end">60</text><text x="430" y="440" text-anchor="end">30%</text>
      <text x="150" y="480">Categoria C</text><text x="330" y="480" text-anchor="end">30</text><text x="430" y="480" text-anchor="end">15%</text>
      <text x="150" y="520">Categoria D</text><text x="330" y="520" text-anchor="end">45</text><text x="430" y="520" text-anchor="end">22,5%</text>
      <text x="150" y="560">Categoria E</text><text x="330" y="560" text-anchor="end">25</text><text x="430" y="560" text-anchor="end">12,5%</text>
    </g>
  </g>

  <!-- PAINEL 2: HISTOGRAMA -->
  <g id="panel-histogram">
    <rect x="560" y="280" width="380" height="380" class="u-panel u-stroke"/>
    <text x="750" y="335" class="label">HISTOGRAMA</text>

    <!-- Eixos -->
    <g class="u-stroke" style="stroke-width:2.5">
      <line x1="610" y1="600" x2="890" y2="600"/>
      <line x1="610" y1="600" x2="610" y2="390"/>
    </g>

    <!-- Barras -->
    <rect x="625" y="440" width="38" height="160" class="bar bar-1"/>
    <rect x="673" y="510" width="38" height="90"  class="bar bar-2"/>
    <rect x="721" y="420" width="38" height="180" class="bar bar-3"/>
    <rect x="769" y="470" width="38" height="130" class="bar bar-4"/>
    <rect x="817" y="540" width="38" height="60"  class="bar bar-5"/>
    <rect x="865" y="570" width="38" height="30"  class="bar bar-6"/>
  </g>

  <!-- PAINEL 3: BOXPLOT & MEDIDAS -->
  <g id="panel-boxplot">
    <rect x="1020" y="280" width="380" height="380" class="u-panel u-stroke"/>
    <text x="1210" y="335" class="label">BOXPLOT &amp; MEDIDAS</text>

    <!-- Eixo -->
    <line x1="1070" y1="560" x2="1350" y2="560" class="u-stroke" style="stroke-width:2.5"/>

    <!-- Boxplot animado -->
    <g class="u-stroke draw-animated" style="stroke-width:3">
      <line x1="1090" y1="560" x2="1140" y2="560"/>
      <line x1="1090" y1="540" x2="1090" y2="580"/>
      <line x1="1280" y1="560" x2="1330" y2="560"/>
      <line x1="1330" y1="540" x2="1330" y2="580"/>
      <rect x="1140" y="510" width="140" height="100" rx="4"/>
      <line x1="1210" y1="510" x2="1210" y2="610" style="stroke-width:3.5"/>
    </g>

    <!-- Marcadores -->
    <g class="pulse">
      <line x1="1190" y1="475" x2="1190" y2="635" stroke="#111827" stroke-width="2" stroke-dasharray="5,5"/>
      <circle cx="1190" cy="560" r="6" fill="#111827"/>
      <text x="1190" y="460" text-anchor="middle" font-size="32" font-weight="600">μ</text>
    </g>
    <g class="pulse-delayed">
      <line x1="1210" y1="475" x2="1210" y2="635" stroke="#111827" stroke-width="2" stroke-dasharray="5,5"/>
      <circle cx="1210" cy="560" r="6" fill="#111827"/>
      <text x="1210" y="460" text-anchor="middle" font-size="32" font-weight="600">M̃</text>
    </g>
  </g>
</svg>
